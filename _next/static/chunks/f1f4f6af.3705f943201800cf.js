"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9962],{8188:function(t,k,v){let C;v.d(k,{iX:function(){return createSingletonShorthands},y6:function(){return createdBundledHighlighter}});var x,A,T,R=v(7061);async function main$1(t){let k,v,C;function updateGlobalBufferAndViews(k){v=k,t.HEAP8=new Int8Array(k),t.HEAP16=new Int16Array(k),t.HEAP32=new Int32Array(k),t.HEAPU8=C=new Uint8Array(k),t.HEAPU16=new Uint16Array(k),t.HEAPU32=new Uint32Array(k),t.HEAPF32=new Float32Array(k),t.HEAPF64=new Float64Array(k)}let x={emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:function(t,k,v){C.copyWithin(t,k,k+v)},emscripten_resize_heap:function(t){let x=C.length;if((t>>>=0)>2147483648)return!1;let alignUp=(t,k)=>t+(k-t%k)%k;for(let C=1;C<=4;C*=2){let A=x*(1+.2/C);A=Math.min(A,t+100663296);let T=Math.min(2147483648,alignUp(Math.max(t,A),65536)),R=function(t){try{return k.grow(t-v.byteLength+65535>>>16),updateGlobalBufferAndViews(k.buffer),1}catch(t){}}(T);if(R)return!0}return!1},fd_write:()=>0};async function createWasm(){let v=await t.instantiateWasm({env:x,wasi_snapshot_preview1:x});return!function(v){let C=v.exports;t.asm=C,updateGlobalBufferAndViews((k=t.asm.memory).buffer)}(v),v}return await createWasm(),t._omalloc=function(){return(t._omalloc=t.asm.omalloc).apply(null,arguments)},t._ofree=function(){return(t._ofree=t.asm.ofree).apply(null,arguments)},t._getLastOnigError=function(){return(t._getLastOnigError=t.asm.getLastOnigError).apply(null,arguments)},t._createOnigScanner=function(){return(t._createOnigScanner=t.asm.createOnigScanner).apply(null,arguments)},t._freeOnigScanner=function(){return(t._freeOnigScanner=t.asm.freeOnigScanner).apply(null,arguments)},t._findNextOnigScannerMatch=function(){return(t._findNextOnigScannerMatch=t.asm.findNextOnigScannerMatch).apply(null,arguments)},t._findNextOnigScannerMatchDbg=function(){return(t._findNextOnigScannerMatchDbg=t.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},t}var N=Object.defineProperty,__defNormalProp$2=(t,k,v)=>k in t?N(t,k,{enumerable:!0,configurable:!0,writable:!0,value:v}):t[k]=v,__publicField$2=(t,k,v)=>(__defNormalProp$2(t,"symbol"!=typeof k?k+"":k,v),v);let O=null;let UtfString=class UtfString{constructor(t){__publicField$2(this,"utf16Length"),__publicField$2(this,"utf8Length"),__publicField$2(this,"utf16Value"),__publicField$2(this,"utf8Value"),__publicField$2(this,"utf16OffsetToUtf8"),__publicField$2(this,"utf8OffsetToUtf16");let k=t.length,v=UtfString._utf8ByteLength(t),C=v!==k,x=C?new Uint32Array(k+1):null;C&&(x[k]=v);let A=C?new Uint32Array(v+1):null;C&&(A[v]=k);let T=new Uint8Array(v),R=0;for(let v=0;v<k;v++){let N=t.charCodeAt(v),O=N,E=!1;if(N>=55296&&N<=56319&&v+1<k){let k=t.charCodeAt(v+1);k>=56320&&k<=57343&&(O=(N-55296<<10)+65536|k-56320,E=!0)}C&&(x[v]=R,E&&(x[v+1]=R),O<=127?A[R+0]=v:O<=2047?(A[R+0]=v,A[R+1]=v):O<=65535?(A[R+0]=v,A[R+1]=v,A[R+2]=v):(A[R+0]=v,A[R+1]=v,A[R+2]=v,A[R+3]=v)),O<=127?T[R++]=O:(O<=2047?T[R++]=192|(1984&O)>>>6:(O<=65535?T[R++]=224|(61440&O)>>>12:(T[R++]=240|(1835008&O)>>>18,T[R++]=128|(258048&O)>>>12),T[R++]=128|(4032&O)>>>6),T[R++]=128|(63&O)>>>0),E&&v++}this.utf16Length=k,this.utf8Length=v,this.utf16Value=t,this.utf8Value=T,this.utf16OffsetToUtf8=x,this.utf8OffsetToUtf16=A}static _utf8ByteLength(t){let k=0;for(let v=0,C=t.length;v<C;v++){let x=t.charCodeAt(v),A=x,T=!1;if(x>=55296&&x<=56319&&v+1<C){let k=t.charCodeAt(v+1);k>=56320&&k<=57343&&(A=(x-55296<<10)+65536|k-56320,T=!0)}A<=127?k+=1:A<=2047?k+=2:A<=65535?k+=3:k+=4,T&&v++}return k}createString(t){let k=t._omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,k),k}};let E=class _OnigString{constructor(t){if(__publicField$2(this,"id",++_OnigString.LAST_ID),__publicField$2(this,"_onigBinding"),__publicField$2(this,"content"),__publicField$2(this,"utf16Length"),__publicField$2(this,"utf8Length"),__publicField$2(this,"utf16OffsetToUtf8"),__publicField$2(this,"utf8OffsetToUtf16"),__publicField$2(this,"ptr"),!O)throw Error("Must invoke loadWasm first.");this._onigBinding=O,this.content=t;let k=new UtfString(t);this.utf16Length=k.utf16Length,this.utf8Length=k.utf8Length,this.utf16OffsetToUtf8=k.utf16OffsetToUtf8,this.utf8OffsetToUtf16=k.utf8OffsetToUtf16,this.utf8Length<1e4&&!_OnigString._sharedPtrInUse?(_OnigString._sharedPtr||(_OnigString._sharedPtr=O._omalloc(1e4)),_OnigString._sharedPtrInUse=!0,O.HEAPU8.set(k.utf8Value,_OnigString._sharedPtr),this.ptr=_OnigString._sharedPtr):this.ptr=k.createString(O)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===_OnigString._sharedPtr?_OnigString._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}};__publicField$2(E,"LAST_ID",0),__publicField$2(E,"_sharedPtr",0),__publicField$2(E,"_sharedPtrInUse",!1);let OnigScanner=class OnigScanner{constructor(t){if(__publicField$2(this,"_onigBinding"),__publicField$2(this,"_ptr"),!O)throw Error("Must invoke loadWasm first.");let k=[],v=[];for(let C=0,x=t.length;C<x;C++){let x=new UtfString(t[C]);k[C]=x.createString(O),v[C]=x.utf8Length}let C=O._omalloc(4*t.length);O.HEAPU32.set(k,C/4);let x=O._omalloc(4*t.length);O.HEAPU32.set(v,x/4);let A=O._createOnigScanner(C,x,t.length);for(let v=0,C=t.length;v<C;v++)O._ofree(k[v]);O._ofree(x),O._ofree(C),0===A&&function(t){throw Error(t.UTF8ToString(t._getLastOnigError()))}(O),this._onigBinding=O,this._ptr=A}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(t,k,v){let C=!1,x=0;if("number"==typeof v?(8&v&&(C=!0),x=v):"boolean"==typeof v&&(C=v),"string"==typeof t){t=new E(t);let v=this._findNextMatchSync(t,k,C,x);return t.dispose(),v}return this._findNextMatchSync(t,k,C,x)}_findNextMatchSync(t,k,v,C){let x;let A=this._onigBinding;if(0===(x=v?A._findNextOnigScannerMatchDbg(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(k),C):A._findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(k),C)))return null;let T=A.HEAPU32,R=x/4,N=T[R++],O=T[R++],E=[];for(let k=0;k<O;k++){let v=t.convertUtf8OffsetToUtf16(T[R++]),C=t.convertUtf8OffsetToUtf16(T[R++]);E[k]={start:v,end:C,length:C-v}}return{index:N,captureIndices:E}}};async function _loadWasm(t,k){O=await main$1({print:k,instantiateWasm:k=>{if("undefined"==typeof performance){let get_now=()=>Date.now();k.env.emscripten_get_now=get_now,k.wasi_snapshot_preview1.emscripten_get_now=get_now}return t(k).then(t=>t.instance||t)}})}let I=!1,M=null;function loadWasm(t){let k,v;if(I)return M;if(I=!0,"function"==typeof t)k=t;else if("function"==typeof t.instantiator)k=t.instantiator,v=t.print;else{var C,x,A,T;let R;(void 0!==t.data?(R=t.data,v=t.print):R=t,C=R,"undefined"!=typeof Response&&C instanceof Response)?k="function"==typeof WebAssembly.instantiateStreaming?(x=R,t=>WebAssembly.instantiateStreaming(x,t)):(A=R,async t=>{let k=await A.arrayBuffer();return WebAssembly.instantiate(k,t)}):(T=R,k=t=>WebAssembly.instantiate(T,t))}return M=_loadWasm(k,v)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var D={exports:{}};D.exports=(x={350:(t,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.UseOnigurumaFindOptions=k.DebugFlags=void 0,k.DebugFlags={InDebugMode:void 0!==R&&!!R.env.VSCODE_TEXTMATE_DEBUG},k.UseOnigurumaFindOptions=!1},442:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.applyStateStackDiff=k.diffStateStacksRefEq=void 0;let C=v(391);k.diffStateStacksRefEq=function(t,k){let v=0,C=[],x=t,A=k;for(;x!==A;)x&&(!A||x.depth>=A.depth)?(v++,x=x.parent):(C.push(A.toStateStackFrame()),A=A.parent);return{pops:v,newFrames:C.reverse()}},k.applyStateStackDiff=function(t,k){let v=t;for(let t=0;t<k.pops;t++)v=v.parent;for(let t of k.newFrames)v=C.StateStackImpl.pushFrame(v,t);return v}},36:(t,k)=>{var v;Object.defineProperty(k,"__esModule",{value:!0}),k.toOptionalTokenType=k.EncodedTokenAttributes=void 0,(v=k.EncodedTokenAttributes||(k.EncodedTokenAttributes={})).toBinaryStr=function(t){let k=t.toString(2);for(;k.length<32;)k="0"+k;return k},v.print=function(t){let k=v.getLanguageId(t),C=v.getTokenType(t),x=v.getFontStyle(t),A=v.getForeground(t),T=v.getBackground(t);console.log({languageId:k,tokenType:C,fontStyle:x,foreground:A,background:T})},v.getLanguageId=function(t){return(255&t)>>>0},v.getTokenType=function(t){return(768&t)>>>8},v.containsBalancedBrackets=function(t){return 0!=(1024&t)},v.getFontStyle=function(t){return(30720&t)>>>11},v.getForeground=function(t){return(16744448&t)>>>15},v.getBackground=function(t){return(4278190080&t)>>>24},v.set=function(t,k,C,x,A,T,R){let N=v.getLanguageId(t),O=v.getTokenType(t),E=v.containsBalancedBrackets(t)?1:0,I=v.getFontStyle(t),M=v.getForeground(t),D=v.getBackground(t);return 0!==k&&(N=k),8!==C&&(O=C),null!==x&&(E=x?1:0),-1!==A&&(I=A),0!==T&&(M=T),0!==R&&(D=R),(N<<0|O<<8|E<<10|I<<11|M<<15|D<<24)>>>0},k.toOptionalTokenType=function(t){return t}},996:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.BasicScopeAttributesProvider=k.BasicScopeAttributes=void 0;let C=v(878);let r=class r{constructor(t,k){this.languageId=t,this.tokenType=k}};k.BasicScopeAttributes=r;let i=class i{constructor(t,k){this._getBasicScopeAttributes=new C.CachedFn(t=>{let k=this._scopeToLanguage(t),v=this._toStandardTokenType(t);return new r(k,v)}),this._defaultAttributes=new r(t,8),this._embeddedLanguagesMatcher=new o(Object.entries(k||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return null===t?i._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){let k=t.match(i.STANDARD_TOKEN_TYPE_REGEXP);if(!k)return 8;switch(k[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw Error("Unexpected match for standard token type!")}};k.BasicScopeAttributesProvider=i,i._NULL_SCOPE_METADATA=new r(0,0),i.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;let o=class o{constructor(t){if(0===t.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);let k=t.map(([t,k])=>C.escapeRegExpCharacters(t));k.sort(),k.reverse(),this.scopesRegExp=RegExp(`^((${k.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;let k=t.match(this.scopesRegExp);return k?this.values.get(k[1]):void 0}}},947:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.LineTokens=k.BalancedBracketSelectors=k.StateStackImpl=k.AttributedScopeStack=k.Grammar=k.createGrammar=void 0;let C=v(350),x=v(36),A=v(736),T=v(44),R=v(792),N=v(583),O=v(878),E=v(996),I=v(47);function p(t,k,v,C,x){let T=A.createMatchers(k,d),N=R.RuleFactory.getCompiledRuleId(v,C,x.repository);for(let v of T)t.push({debugSelector:k,matcher:v.matcher,ruleId:N,grammar:x,priority:v.priority})}function d(t,k){if(k.length<t.length)return!1;let v=0;return t.every(t=>{for(let C=v;C<k.length;C++)if(function(t,k){if(!t)return!1;if(t===k)return!0;let v=k.length;return t.length>v&&t.substr(0,v)===k&&"."===t[v]}(k[C],t))return v=C+1,!0;return!1})}k.createGrammar=function(t,k,v,C,x,A,T,R){return new m(t,k,v,C,x,A,T,R)};let m=class m{constructor(t,k,v,C,x,T,R,N){if(this._rootScopeName=t,this.balancedBracketSelectors=T,this._onigLib=N,this._basicScopeAttributesProvider=new E.BasicScopeAttributesProvider(v,C),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=R,this._grammar=g(k,null),this._injections=null,this._tokenTypeMatchers=[],x)for(let t of Object.keys(x)){let k=A.createMatchers(t,d);for(let v of k)this._tokenTypeMatchers.push({matcher:v.matcher,type:x[t]})}}get themeProvider(){return this._grammarRepository}dispose(){for(let t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){let t=[],k=this._rootScopeName,v=k===this._rootScopeName?this._grammar:this.getExternalGrammar(k);if(v){let C=v.injections;if(C)for(let k in C)p(t,k,C[k],this,v);let x=this._grammarRepository.injections(k);x&&x.forEach(k=>{let v=this.getExternalGrammar(k);if(v){let k=v.injectionSelector;k&&p(t,k,v,this,v)}})}return t.sort((t,k)=>t.priority-k.priority),t}getInjections(){if(null===this._injections&&(this._injections=this._collectInjections(),C.DebugFlags.InDebugMode&&this._injections.length>0))for(let t of(console.log(`Grammar ${this._rootScopeName} contains the following injections:`),this._injections))console.log(`  - ${t.debugSelector}`);return this._injections}registerRule(t){let k=++this._lastRuleId,v=t(R.ruleIdFromNumber(k));return this._ruleId2desc[k]=v,v}getRule(t){return this._ruleId2desc[R.ruleIdToNumber(t)]}getExternalGrammar(t,k){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){let v=this._grammarRepository.lookup(t);if(v)return this._includedGrammars[t]=g(v,k&&k.$base),this._includedGrammars[t]}}tokenizeLine(t,k,v=0){let C=this._tokenize(t,k,!1,v);return{tokens:C.lineTokens.getResult(C.ruleStack,C.lineLength),ruleStack:C.ruleStack,stoppedEarly:C.stoppedEarly}}tokenizeLine2(t,k,v=0){let C=this._tokenize(t,k,!0,v);return{tokens:C.lineTokens.getBinaryResult(C.ruleStack,C.lineLength),ruleStack:C.ruleStack,stoppedEarly:C.stoppedEarly}}_tokenize(t,k,v,C){let A;if(-1===this._rootId&&(this._rootId=R.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),k&&k!==b.NULL)A=!1,k.reset();else{let t;A=!0;let v=this._basicScopeAttributesProvider.getDefaultAttributes(),C=this.themeProvider.getDefaults(),T=x.EncodedTokenAttributes.set(0,v.languageId,v.tokenType,null,C.fontStyle,C.foregroundId,C.backgroundId),R=this.getRule(this._rootId).getName(null,null);t=R?_.createRootAndLookUpScopeName(R,T,this):_.createRoot("unknown",T),k=new b(null,this._rootId,-1,-1,!1,null,t,t)}t+="\n";let N=this.createOnigString(t),O=N.content.length,E=new y(v,t,this._tokenTypeMatchers,this.balancedBracketSelectors),M=I._tokenizeString(this,N,A,0,k,E,!0,C);return T.disposeOnigString(N),{lineLength:O,lineTokens:E,ruleStack:M.stack,stoppedEarly:M.stoppedEarly}}};function g(t,k){return(t=O.clone(t)).repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=k||t.repository.$self,t}k.Grammar=m;let _=class _{constructor(t,k,v){this.parent=t,this.scopePath=k,this.tokenAttributes=v}static fromExtension(t,k){let v=t,C=t?.scopePath??null;for(let t of k)C=N.ScopeStack.push(C,t.scopeNames),v=new _(v,C,t.encodedTokenAttributes);return v}static createRoot(t,k){return new _(null,new N.ScopeStack(null,t),k)}static createRootAndLookUpScopeName(t,k,v){let C=v.getMetadataForScope(t),x=new N.ScopeStack(null,t),A=v.themeProvider.themeMatch(x),T=_.mergeAttributes(k,C,A);return new _(null,x,T)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return _.equals(this,t)}static equals(t,k){for(;;){if(t===k||!t&&!k)return!0;if(!t||!k||t.scopeName!==k.scopeName||t.tokenAttributes!==k.tokenAttributes)return!1;t=t.parent,k=k.parent}}static mergeAttributes(t,k,v){let C=-1,A=0,T=0;return null!==v&&(C=v.fontStyle,A=v.foregroundId,T=v.backgroundId),x.EncodedTokenAttributes.set(t,k.languageId,k.tokenType,null,C,A,T)}pushAttributed(t,k){if(null===t)return this;if(-1===t.indexOf(" "))return _._pushAttributed(this,t,k);let v=t.split(/ /g),C=this;for(let t of v)C=_._pushAttributed(C,t,k);return C}static _pushAttributed(t,k,v){let C=v.getMetadataForScope(k),x=t.scopePath.push(k),A=v.themeProvider.themeMatch(x),T=_.mergeAttributes(t.tokenAttributes,C,A);return new _(t,x,T)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){let k=[],v=this;for(;v&&v!==t;)k.push({encodedTokenAttributes:v.tokenAttributes,scopeNames:v.scopePath.getExtensionIfDefined(v.parent?.scopePath??null)}),v=v.parent;return v===t?k.reverse():void 0}};k.AttributedScopeStack=_;let b=class b{constructor(t,k,v,C,x,A,T,R){this.parent=t,this.ruleId=k,this.beginRuleCapturedEOL=x,this.endRule=A,this.nameScopesList=T,this.contentNameScopesList=R,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=v,this._anchorPos=C}equals(t){return null!==t&&b._equals(this,t)}static _equals(t,k){return t===k||!!this._structuralEquals(t,k)&&_.equals(t.contentNameScopesList,k.contentNameScopesList)}static _structuralEquals(t,k){for(;;){if(t===k||!t&&!k)return!0;if(!t||!k||t.depth!==k.depth||t.ruleId!==k.ruleId||t.endRule!==k.endRule)return!1;t=t.parent,k=k.parent}}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){b._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,k,v,C,x,A,T){return new b(this,t,k,v,C,x,A,T)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){let t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,k){return this.parent&&(k=this.parent._writeString(t,k)),t[k++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,k}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new b(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let k=this;for(;k&&k._enterPos===t._enterPos;){if(k.ruleId===t.ruleId)return!0;k=k.parent}return!1}toStateStackFrame(){return{ruleId:R.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,k){let v=_.fromExtension(t?.nameScopesList??null,k.nameScopesList);return new b(t,R.ruleIdFromNumber(k.ruleId),k.enterPos??-1,k.anchorPos??-1,k.beginRuleCapturedEOL,k.endRule,v,_.fromExtension(v,k.contentNameScopesList))}};k.StateStackImpl=b,b.NULL=new b(null,0,0,0,!1,null,null,null),k.BalancedBracketSelectors=class{constructor(t,k){this.allowAny=!1,this.balancedBracketScopes=t.flatMap(t=>"*"===t?(this.allowAny=!0,[]):A.createMatchers(t,d).map(t=>t.matcher)),this.unbalancedBracketScopes=k.flatMap(t=>A.createMatchers(t,d).map(t=>t.matcher))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(t){for(let k of this.unbalancedBracketScopes)if(k(t))return!1;for(let k of this.balancedBracketScopes)if(k(t))return!0;return this.allowAny}};let y=class y{constructor(t,k,v,x){this.balancedBracketSelectors=x,this._emitBinaryTokens=t,this._tokenTypeOverrides=v,C.DebugFlags.InDebugMode?this._lineText=k:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,k){this.produceFromScopes(t.contentNameScopesList,k)}produceFromScopes(t,k){if(this._lastTokenEndIndex>=k)return;if(this._emitBinaryTokens){let v=t?.tokenAttributes??0,A=!1;if(this.balancedBracketSelectors?.matchesAlways&&(A=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){let k=t?.getScopeNames()??[];for(let t of this._tokenTypeOverrides)t.matcher(k)&&(v=x.EncodedTokenAttributes.set(v,0,x.toOptionalTokenType(t.type),null,-1,0,0));this.balancedBracketSelectors&&(A=this.balancedBracketSelectors.match(k))}if(A&&(v=x.EncodedTokenAttributes.set(v,0,8,A,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===v)return void(this._lastTokenEndIndex=k);if(C.DebugFlags.InDebugMode){let v=t?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,k).replace(/\n$/,"\\n")+"|");for(let t=0;t<v.length;t++)console.log("      * "+v[t])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(v),void(this._lastTokenEndIndex=k)}let v=t?.getScopeNames()??[];if(C.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,k).replace(/\n$/,"\\n")+"|");for(let t=0;t<v.length;t++)console.log("      * "+v[t])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:k,scopes:v}),this._lastTokenEndIndex=k}getResult(t,k){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===k-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(t,k),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,k){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===k-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(t,k),this._binaryTokens[this._binaryTokens.length-2]=0);let v=new Uint32Array(this._binaryTokens.length);for(let t=0,k=this._binaryTokens.length;t<k;t++)v[t]=this._binaryTokens[t];return v}};k.LineTokens=y},965:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.parseInclude=k.TopLevelRepositoryReference=k.TopLevelReference=k.RelativeReference=k.SelfReference=k.BaseReference=k.ScopeDependencyProcessor=k.ExternalReferenceCollector=k.TopLevelRepositoryRuleReference=k.TopLevelRuleReference=void 0;let C=v(878);let r=class r{constructor(t){this.scopeName=t}toKey(){return this.scopeName}};k.TopLevelRuleReference=r;let i=class i{constructor(t,k){this.scopeName=t,this.ruleName=k}toKey(){return`${this.scopeName}#${this.ruleName}`}};k.TopLevelRepositoryRuleReference=i;let o=class o{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(t){let k=t.toKey();this._seenReferenceKeys.has(k)||(this._seenReferenceKeys.add(k),this._references.push(t))}};function c(t,k,v){k.repository&&k.repository[t]&&u([k.repository[t]],k,v)}function l(t,k){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&u(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},k),t.selfGrammar.injections&&u(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},k)}function u(t,k,v){for(let x of t){if(v.visitedRule.has(x))continue;v.visitedRule.add(x);let t=x.repository?C.mergeObjects({},k.repository,x.repository):k.repository;Array.isArray(x.patterns)&&u(x.patterns,{...k,repository:t},v);let A=x.include;if(!A)continue;let T=g(A);switch(T.kind){case 0:l({...k,selfGrammar:k.baseGrammar},v);break;case 1:l(k,v);break;case 2:c(T.ruleName,{...k,repository:t},v);break;case 3:case 4:let R=T.scopeName===k.selfGrammar.scopeName?k.selfGrammar:T.scopeName===k.baseGrammar.scopeName?k.baseGrammar:void 0;if(R){let C={baseGrammar:k.baseGrammar,selfGrammar:R,repository:t};4===T.kind?c(T.ruleName,C,v):l(C,v)}else 4===T.kind?v.add(new i(T.scopeName,T.ruleName)):v.add(new r(T.scopeName))}}}k.ExternalReferenceCollector=o,k.ScopeDependencyProcessor=class{constructor(t,k){this.repo=t,this.initialScopeName=k,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new r(this.initialScopeName)]}processQueue(){let t=this.Q;this.Q=[];let k=new o;for(let v of t)(function(t,k,v,C){let x=v.lookup(t.scopeName);if(!x){if(t.scopeName===k)throw Error(`No grammar provided for <${k}>`);return}let A=v.lookup(k);t instanceof r?l({baseGrammar:A,selfGrammar:x},C):c(t.ruleName,{baseGrammar:A,selfGrammar:x,repository:x.repository},C);let T=v.injections(t.scopeName);if(T)for(let t of T)C.add(new r(t))})(v,this.initialScopeName,this.repo,k);for(let t of k.references)if(t instanceof r){if(this.seenFullScopeRequests.has(t.scopeName))continue;this.seenFullScopeRequests.add(t.scopeName),this.Q.push(t)}else{if(this.seenFullScopeRequests.has(t.scopeName)||this.seenPartialScopeRequests.has(t.toKey()))continue;this.seenPartialScopeRequests.add(t.toKey()),this.Q.push(t)}}};let h=class h{constructor(){this.kind=0}};k.BaseReference=h;let p=class p{constructor(){this.kind=1}};k.SelfReference=p;let d=class d{constructor(t){this.ruleName=t,this.kind=2}};k.RelativeReference=d;let f=class f{constructor(t){this.scopeName=t,this.kind=3}};k.TopLevelReference=f;let m=class m{constructor(t,k){this.scopeName=t,this.ruleName=k,this.kind=4}};function g(t){if("$base"===t)return new h;if("$self"===t)return new p;let k=t.indexOf("#");if(-1===k)return new f(t);if(0===k)return new d(t.substring(1));{let v=t.substring(0,k),C=t.substring(k+1);return new m(v,C)}}k.TopLevelRepositoryReference=m,k.parseInclude=g},391:function(t,k,v){var C=this&&this.__createBinding||(Object.create?function(t,k,v,C){void 0===C&&(C=v),Object.defineProperty(t,C,{enumerable:!0,get:function(){return k[v]}})}:function(t,k,v,C){void 0===C&&(C=v),t[C]=k[v]}),x=this&&this.__exportStar||function(t,k){for(var v in t)"default"===v||Object.prototype.hasOwnProperty.call(k,v)||C(k,t,v)};Object.defineProperty(k,"__esModule",{value:!0}),x(v(947),k)},47:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.LocalStackElement=k._tokenizeString=void 0;let C=v(350),x=v(44),A=v(792),T=v(878);let a=class a{constructor(t,k){this.stack=t,this.stoppedEarly=k}};function c(t,k,v,x,R,N,O,E){let I=k.content.length,M=!1,D=-1;if(O){let T=function(t,k,v,x,T,R){let N=T.beginRuleCapturedEOL?0:-1,O=[];for(let k=T;k;k=k.pop()){let v=k.getRule(t);v instanceof A.BeginWhileRule&&O.push({rule:v,stack:k})}for(let F=O.pop();F;F=O.pop()){var E,I,M,D;let{ruleScanner:O,findOptions:B}=(E=F.rule,I=F.stack.endRule,M=v,D=x===N,C.UseOnigurumaFindOptions?{ruleScanner:E.compileWhile(t,I),findOptions:h(M,D)}:{ruleScanner:E.compileWhileAG(t,I,M,D),findOptions:0}),$=O.findNextMatchSync(k,x,B);if(C.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(O.toString())),!$){C.DebugFlags.InDebugMode&&console.log("  popping "+F.rule.debugName+" - "+F.rule.debugWhileRegExp),T=F.stack.pop();break}if($.ruleId!==A.whileRuleId){T=F.stack.pop();break}$.captureIndices&&$.captureIndices.length&&(R.produce(F.stack,$.captureIndices[0].start),p(t,k,v,F.stack,R,F.rule.whileCaptures,$.captureIndices),R.produce(F.stack,$.captureIndices[0].end),N=$.captureIndices[0].end,$.captureIndices[0].end>x&&(x=$.captureIndices[0].end,v=!1))}return{stack:T,linePos:x,anchorPosition:N,isFirstLine:v}}(t,k,v,x,R,N);R=T.stack,x=T.linePos,v=T.isFirstLine,D=T.anchorPosition}let F=Date.now();for(;!M;){if(0!==E&&Date.now()-F>E)return new a(R,!0);(function(){C.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${x}: |${k.content.substr(x).replace(/\n$/,"\\n")}|`));let O=function(t,k,v,x,A,R){let N=function(t,k,v,x,A,R){let N=A.getRule(t),{ruleScanner:O,findOptions:E}=l(N,t,A.endRule,v,x===R),I=0;C.DebugFlags.InDebugMode&&(I=T.performanceNow());let M=O.findNextMatchSync(k,x,E);if(C.DebugFlags.InDebugMode){let t=T.performanceNow()-I;t>5&&console.warn(`Rule ${N.debugName} (${N.id}) matching took ${t} against '${k}'`),console.log(`  scanning for (linePos: ${x}, anchorPosition: ${R})`),console.log(O.toString()),M&&console.log(`matched rule id: ${M.ruleId} from ${M.captureIndices[0].start} to ${M.captureIndices[0].end}`)}return M?{captureIndices:M.captureIndices,matchedRuleId:M.ruleId}:null}(t,k,v,x,A,R),O=t.getInjections();if(0===O.length)return N;let E=function(t,k,v,x,A,T,R){let N,O=Number.MAX_VALUE,E=null,I=0,M=T.contentNameScopesList.getScopeNames();for(let T=0,D=t.length;T<D;T++){let D=t[T];if(!D.matcher(M))continue;let F=k.getRule(D.ruleId),{ruleScanner:B,findOptions:$}=l(F,k,null,x,A===R),j=B.findNextMatchSync(v,A,$);if(!j)continue;C.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${D.debugSelector}`),console.log(B.toString()));let U=j.captureIndices[0].start;if(!(U>=O)&&(O=U,E=j.captureIndices,N=j.ruleId,I=D.priority,O===A))break}return E?{priorityMatch:-1===I,captureIndices:E,matchedRuleId:N}:null}(O,t,k,v,x,A,R);if(!E)return N;if(!N)return E;let I=N.captureIndices[0].start,M=E.captureIndices[0].start;return M<I||E.priorityMatch&&M===I?E:N}(t,k,v,x,R,D);if(!O)return C.DebugFlags.InDebugMode&&console.log("  no more matches."),N.produce(R,I),void(M=!0);let E=O.captureIndices,F=O.matchedRuleId,B=!!(E&&E.length>0)&&E[0].end>x;if(F===A.endRuleId){let A=R.getRule(t);C.DebugFlags.InDebugMode&&console.log("  popping "+A.debugName+" - "+A.debugEndRegExp),N.produce(R,E[0].start),R=R.withContentNameScopesList(R.nameScopesList),p(t,k,v,R,N,A.endCaptures,E),N.produce(R,E[0].end);let T=R;if(R=R.parent,D=T.getAnchorPos(),!B&&T.getEnterPos()===x)return C.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),R=T,N.produce(R,I),void(M=!0)}else{let T=t.getRule(F);N.produce(R,E[0].start);let O=R,$=T.getName(k.content,E),j=R.contentNameScopesList.pushAttributed($,t);if(R=R.push(F,x,D,E[0].end===I,null,j,j),T instanceof A.BeginEndRule){C.DebugFlags.InDebugMode&&console.log("  pushing "+T.debugName+" - "+T.debugBeginRegExp),p(t,k,v,R,N,T.beginCaptures,E),N.produce(R,E[0].end),D=E[0].end;let x=T.getContentName(k.content,E),A=j.pushAttributed(x,t);if(R=R.withContentNameScopesList(A),T.endHasBackReferences&&(R=R.withEndRule(T.getEndWithResolvedBackReferences(k.content,E))),!B&&O.hasSameRuleAs(R))return C.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),R=R.pop(),N.produce(R,I),void(M=!0)}else if(T instanceof A.BeginWhileRule){C.DebugFlags.InDebugMode&&console.log("  pushing "+T.debugName),p(t,k,v,R,N,T.beginCaptures,E),N.produce(R,E[0].end),D=E[0].end;let x=T.getContentName(k.content,E),A=j.pushAttributed(x,t);if(R=R.withContentNameScopesList(A),T.whileHasBackReferences&&(R=R.withEndRule(T.getWhileWithResolvedBackReferences(k.content,E))),!B&&O.hasSameRuleAs(R))return C.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),R=R.pop(),N.produce(R,I),void(M=!0)}else if(C.DebugFlags.InDebugMode&&console.log("  matched "+T.debugName+" - "+T.debugMatchRegExp),p(t,k,v,R,N,T.captures,E),N.produce(R,E[0].end),R=R.pop(),!B)return C.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),R=R.safePop(),N.produce(R,I),void(M=!0)}E[0].end>x&&(x=E[0].end,v=!1)})()}return new a(R,!1)}function l(t,k,v,x,A){return C.UseOnigurumaFindOptions?{ruleScanner:t.compile(k,v),findOptions:h(x,A)}:{ruleScanner:t.compileAG(k,v,x,A),findOptions:0}}function h(t,k){let v=0;return t||(v|=1),k||(v|=4),v}function p(t,k,v,C,A,T,R){if(0===T.length)return;let N=k.content,O=Math.min(T.length,R.length),E=[],I=R[0].end;for(let k=0;k<O;k++){let O=T[k];if(null===O)continue;let M=R[k];if(0===M.length)continue;if(M.start>I)break;for(;E.length>0&&E[E.length-1].endPos<=M.start;)A.produceFromScopes(E[E.length-1].scopes,E[E.length-1].endPos),E.pop();if(E.length>0?A.produceFromScopes(E[E.length-1].scopes,M.start):A.produce(C,M.start),O.retokenizeCapturedWithRuleId){let k=O.getName(N,R),T=C.contentNameScopesList.pushAttributed(k,t),E=O.getContentName(N,R),I=T.pushAttributed(E,t),D=C.push(O.retokenizeCapturedWithRuleId,M.start,-1,!1,null,T,I),F=t.createOnigString(N.substring(0,M.end));c(t,F,v&&0===M.start,M.start,D,A,!1,0),x.disposeOnigString(F);continue}let D=O.getName(N,R);if(null!==D){let k=(E.length>0?E[E.length-1].scopes:C.contentNameScopesList).pushAttributed(D,t);E.push(new d(k,M.end))}}for(;E.length>0;)A.produceFromScopes(E[E.length-1].scopes,E[E.length-1].endPos),E.pop()}k._tokenizeString=c;let d=class d{constructor(t,k){this.scopes=t,this.endPos=k}};k.LocalStackElement=d},974:(t,k)=>{function n(t,k){throw Error("Near offset "+t.pos+": "+k+" ~~~"+t.source.substr(t.pos,50)+"~~~")}Object.defineProperty(k,"__esModule",{value:!0}),k.parseJSON=void 0,k.parseJSON=function(t,k,v){let C=new s(t),x=new r,A=0,T=null,R=[],N=[];function d(){R.push(A),N.push(T)}function f(){A=R.pop(),T=N.pop()}function m(t){n(C,t)}for(;i(C,x);){if(0===A){if(null!==T&&m("too many constructs in root"),3===x.type){T={},v&&(T.$vscodeTextmateLocation=x.toLocation(k)),d(),A=1;continue}if(2===x.type){T=[],d(),A=4;continue}m("unexpected token in root")}if(2===A){if(5===x.type){f();continue}if(7===x.type){A=3;continue}m("expected , or }")}if(1===A||3===A){if(1===A&&5===x.type){f();continue}if(1===x.type){let t=x.value;if(i(C,x)&&6===x.type||m("expected colon"),i(C,x)||m("expected value"),A=2,1===x.type){T[t]=x.value;continue}if(8===x.type){T[t]=null;continue}if(9===x.type){T[t]=!0;continue}if(10===x.type){T[t]=!1;continue}if(11===x.type){T[t]=parseFloat(x.value);continue}if(2===x.type){let k=[];T[t]=k,d(),A=4,T=k;continue}if(3===x.type){let C={};v&&(C.$vscodeTextmateLocation=x.toLocation(k)),T[t]=C,d(),A=1,T=C;continue}}m("unexpected token in dict")}if(5===A){if(4===x.type){f();continue}if(7===x.type){A=6;continue}m("expected , or ]")}if(4===A||6===A){if(4===A&&4===x.type){f();continue}if(A=5,1===x.type){T.push(x.value);continue}if(8===x.type){T.push(null);continue}if(9===x.type){T.push(!0);continue}if(10===x.type){T.push(!1);continue}if(11===x.type){T.push(parseFloat(x.value));continue}if(2===x.type){let t=[];T.push(t),d(),A=4,T=t;continue}if(3===x.type){let t={};v&&(t.$vscodeTextmateLocation=x.toLocation(k)),T.push(t),d(),A=1,T=t;continue}m("unexpected token in array")}m("unknown state")}return 0!==N.length&&m("unclosed constructs"),T};let s=class s{constructor(t){this.source=t,this.pos=0,this.len=t.length,this.line=1,this.char=0}};let r=class r{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(t){return{filename:t,line:this.line,char:this.char}}};function i(t,k){k.value=null,k.type=0,k.offset=-1,k.len=-1,k.line=-1,k.char=-1;let v,C=t.source,x=t.pos,A=t.len,T=t.line,R=t.char;for(;;){if(x>=A)return!1;if(32!==(v=C.charCodeAt(x))&&9!==v&&13!==v){if(10!==v)break;x++,T++,R=0}else x++,R++}if(k.offset=x,k.line=T,k.char=R,34===v){for(k.type=1,x++,R++;;){if(x>=A)return!1;if(v=C.charCodeAt(x),x++,R++,92!==v){if(34===v)break}else x++,R++}k.value=C.substring(k.offset+1,x-1).replace(/\\u([0-9A-Fa-f]{4})/g,(t,k)=>String.fromCodePoint(parseInt(k,16))).replace(/\\(.)/g,(k,v)=>{switch(v){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"	";default:n(t,"invalid escape sequence")}throw Error("unreachable")})}else if(91===v)k.type=2,x++,R++;else if(123===v)k.type=3,x++,R++;else if(93===v)k.type=4,x++,R++;else if(125===v)k.type=5,x++,R++;else if(58===v)k.type=6,x++,R++;else if(44===v)k.type=7,x++,R++;else if(110===v){if(k.type=8,x++,R++,117!==(v=C.charCodeAt(x))||(x++,R++,108!==(v=C.charCodeAt(x)))||(x++,R++,108!==(v=C.charCodeAt(x))))return!1;x++,R++}else if(116===v){if(k.type=9,x++,R++,114!==(v=C.charCodeAt(x))||(x++,R++,117!==(v=C.charCodeAt(x)))||(x++,R++,101!==(v=C.charCodeAt(x))))return!1;x++,R++}else if(102===v){if(k.type=10,x++,R++,97!==(v=C.charCodeAt(x))||(x++,R++,108!==(v=C.charCodeAt(x)))||(x++,R++,115!==(v=C.charCodeAt(x)))||(x++,R++,101!==(v=C.charCodeAt(x))))return!1;x++,R++}else for(k.type=11;;){if(x>=A)return!1;if(!(46===(v=C.charCodeAt(x))||v>=48&&v<=57||101===v||69===v||45===v||43===v))break;x++,R++}return k.len=x-k.offset,null===k.value&&(k.value=C.substr(k.offset,k.len)),t.pos=x,t.line=T,t.char=R,!0}},787:function(t,k,v){var C=this&&this.__createBinding||(Object.create?function(t,k,v,C){void 0===C&&(C=v),Object.defineProperty(t,C,{enumerable:!0,get:function(){return k[v]}})}:function(t,k,v,C){void 0===C&&(C=v),t[C]=k[v]}),x=this&&this.__exportStar||function(t,k){for(var v in t)"default"===v||Object.prototype.hasOwnProperty.call(k,v)||C(k,t,v)};Object.defineProperty(k,"__esModule",{value:!0}),k.applyStateStackDiff=k.diffStateStacksRefEq=k.parseRawGrammar=k.INITIAL=k.Registry=void 0;let A=v(391),T=v(50),R=v(652),N=v(583),O=v(965),E=v(442);Object.defineProperty(k,"applyStateStackDiff",{enumerable:!0,get:function(){return E.applyStateStackDiff}}),Object.defineProperty(k,"diffStateStacksRefEq",{enumerable:!0,get:function(){return E.diffStateStacksRefEq}}),x(v(44),k),k.Registry=class{constructor(t){this._options=t,this._syncRegistry=new R.SyncRegistry(N.Theme.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,k){this._syncRegistry.setTheme(N.Theme.createFromRawTheme(t,k))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,k,v){return this.loadGrammarWithConfiguration(t,k,{embeddedLanguages:v})}loadGrammarWithConfiguration(t,k,v){return this._loadGrammar(t,k,v.embeddedLanguages,v.tokenTypes,new A.BalancedBracketSelectors(v.balancedBracketSelectors||[],v.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}async _loadGrammar(t,k,v,C,x){let A=new O.ScopeDependencyProcessor(this._syncRegistry,t);for(;A.Q.length>0;)await Promise.all(A.Q.map(t=>this._loadSingleGrammar(t.scopeName))),A.processQueue();return this._grammarForScopeName(t,k,v,C,x)}async _loadSingleGrammar(t){return this._ensureGrammarCache.has(t)||this._ensureGrammarCache.set(t,this._doLoadSingleGrammar(t)),this._ensureGrammarCache.get(t)}async _doLoadSingleGrammar(t){let k=await this._options.loadGrammar(t);if(k){let v="function"==typeof this._options.getInjections?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(k,v)}}async addGrammar(t,k=[],v=0,C=null){return this._syncRegistry.addGrammar(t,k),await this._grammarForScopeName(t.scopeName,v,C)}_grammarForScopeName(t,k=0,v=null,C=null,x=null){return this._syncRegistry.grammarForScopeName(t,k,v,C,x)}},k.INITIAL=A.StateStackImpl.NULL,k.parseRawGrammar=T.parseRawGrammar},736:(t,k)=>{function n(t){return!!t&&!!t.match(/[\w\.:]+/)}Object.defineProperty(k,"__esModule",{value:!0}),k.createMatchers=void 0,k.createMatchers=function(t,k){let v,C;let x=[],A=(C=(v=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(t),{next:()=>{if(!C)return null;let k=C[0];return C=v.exec(t),k}}),T=A.next();for(;null!==T;){let t=0;if(2===T.length&&":"===T.charAt(1)){switch(T.charAt(0)){case"R":t=1;break;case"L":t=-1;break;default:console.log(`Unknown priority ${T} in scope selector`)}T=A.next()}let k=a();if(x.push({matcher:k,priority:t}),","!==T)break;T=A.next()}return x;function o(){if("-"===T){T=A.next();let t=o();return k=>!!t&&!t(k)}if("("===T){T=A.next();let t=function(){let t=[],k=a();for(;k&&(t.push(k),"|"===T||","===T);){do T=A.next();while("|"===T||","===T);k=a()}return k=>t.some(t=>t(k))}();return")"===T&&(T=A.next()),t}if(n(T)){let t=[];do t.push(T),T=A.next();while(n(T));return v=>k(t,v)}return null}function a(){let t=[],k=o();for(;k;)t.push(k),k=o();return k=>t.every(t=>t(k))}}},44:(t,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.disposeOnigString=void 0,k.disposeOnigString=function(t){"function"==typeof t.dispose&&t.dispose()}},50:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.parseRawGrammar=void 0;let C=v(69),x=v(350),A=v(974);k.parseRawGrammar=function(t,k=null){return null!==k&&/\.json$/.test(k)?x.DebugFlags.InDebugMode?A.parseJSON(t,k,!0):JSON.parse(t):x.DebugFlags.InDebugMode?C.parseWithLocation(t,k,"$vscodeTextmateLocation"):C.parsePLIST(t)}},69:(t,k)=>{function n(t,k,v){var C;let x=t.length,A=0,T=1,R=0;function a(k){if(null===v)A+=k;else for(;k>0;)10===t.charCodeAt(A)?(A++,T++,R=0):(A++,R++),k--}function c(t){null===v?A=t:a(t-A)}function l(){for(;A<x;){let k=t.charCodeAt(A);if(32!==k&&9!==k&&13!==k&&10!==k)break;a(1)}}function u(k){return t.substr(A,k.length)===k&&(a(k.length),!0)}function h(k){let v=t.indexOf(k,A);c(-1!==v?v+k.length:x)}function p(k){let v=t.indexOf(k,A);if(-1!==v){let C=t.substring(A,v);return c(v+k.length),C}{let k=t.substr(A);return c(x),k}}x>0&&65279===t.charCodeAt(0)&&(A=1);let N=0,O=null,E=[],I=[],M=null;function b(t,k){E.push(N),I.push(O),N=t,O=k}function y(){if(0===E.length)return S("illegal state stack");N=E.pop(),O=I.pop()}function S(k){throw Error("Near offset "+A+": "+k+" ~~~"+t.substr(A,50)+"~~~")}function w(){if(1!==N)return S("unexpected </dict>");y()}function P(){return 1===N||2!==N?S("unexpected </array>"):void y()}function G(t){if(1===N){if(null===M)return S("missing <key>");O[M]=t,M=null}else 2===N?O.push(t):O=t}function L(t){if(t.isClosed)return"";let k=p("</");return h(">"),k.replace(/&#([0-9]+);/g,function(t,k){return String.fromCodePoint(parseInt(k,10))}).replace(/&#x([0-9a-f]+);/g,function(t,k){return String.fromCodePoint(parseInt(k,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(t){switch(t){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return t})}for(;A<x&&(l(),!(A>=x));){let E=t.charCodeAt(A);if(a(1),60!==E)return S("expected <");if(A>=x)return S("unexpected end of input");let I=t.charCodeAt(A);if(63===I){a(1),h("?>");continue}if(33===I){if(a(1),u("--")){h("-->");continue}h(">");continue}if(47===I){if(a(1),l(),u("plist")){h(">");continue}if(u("dict")){h(">"),w();continue}if(u("array")){h(">"),P();continue}return S("unexpected closed tag")}let D=function(){let t=p(">"),k=!1;return 47===t.charCodeAt(t.length-1)&&(k=!0,t=t.substring(0,t.length-1)),{name:t.trim(),isClosed:k}}();switch(D.name){case"dict":1===N?function(){if(null===M)return S("missing <key>");let t={};null!==v&&(t[v]={filename:k,line:T,char:R}),O[M]=t,M=null,b(1,t)}():2===N?function(){let t={};null!==v&&(t[v]={filename:k,line:T,char:R}),O.push(t),b(1,t)}():(O={},null!==v&&(O[v]={filename:k,line:T,char:R}),b(1,O)),D.isClosed&&w();continue;case"array":1===N?function(){if(null===M)return S("missing <key>");let t=[];O[M]=t,M=null,b(2,t)}():2===N?function(){let t=[];O.push(t),b(2,t)}():b(2,O=[]),D.isClosed&&P();continue;case"key":C=L(D),1!==N?S("unexpected <key>"):null!==M?S("too many <key>"):M=C;continue;case"string":!function(t){if(1===N){if(null===M)return S("missing <key>");O[M]=t,M=null}else 2===N?O.push(t):O=t}(L(D));continue;case"real":!function(t){if(isNaN(t))return S("cannot parse float");if(1===N){if(null===M)return S("missing <key>");O[M]=t,M=null}else 2===N?O.push(t):O=t}(parseFloat(L(D)));continue;case"integer":!function(t){if(isNaN(t))return S("cannot parse integer");if(1===N){if(null===M)return S("missing <key>");O[M]=t,M=null}else 2===N?O.push(t):O=t}(parseInt(L(D),10));continue;case"date":!function(t){if(1===N){if(null===M)return S("missing <key>");O[M]=t,M=null}else 2===N?O.push(t):O=t}(new Date(L(D)));continue;case"data":!function(t){if(1===N){if(null===M)return S("missing <key>");O[M]=t,M=null}else 2===N?O.push(t):O=t}(L(D));continue;case"true":L(D),G(!0);continue;case"false":L(D),G(!1);continue}if(!/^plist/.test(D.name))return S("unexpected opened tag "+D.name)}return O}Object.defineProperty(k,"__esModule",{value:!0}),k.parsePLIST=k.parseWithLocation=void 0,k.parseWithLocation=function(t,k,v){return n(t,k,v)},k.parsePLIST=function(t){return n(t,null,null)}},652:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.SyncRegistry=void 0;let C=v(391);k.SyncRegistry=class{constructor(t,k){this._onigLibPromise=k,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=t}dispose(){for(let t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,k){this._rawGrammars.set(t.scopeName,t),k&&this._injectionGrammars.set(t.scopeName,k)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}async grammarForScopeName(t,k,v,x,A){if(!this._grammars.has(t)){let T=this._rawGrammars.get(t);if(!T)return null;this._grammars.set(t,C.createGrammar(t,T,k,v,x,A,this,await this._onigLibPromise))}return this._grammars.get(t)}}},792:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CompiledRule=k.RegExpSourceList=k.RegExpSource=k.RuleFactory=k.BeginWhileRule=k.BeginEndRule=k.IncludeOnlyRule=k.MatchRule=k.CaptureRule=k.Rule=k.ruleIdToNumber=k.ruleIdFromNumber=k.whileRuleId=k.endRuleId=void 0;let C=v(878),x=v(965),A=/\\(\d+)/,T=/\\(\d+)/g;k.endRuleId=-1,k.whileRuleId=-2,k.ruleIdFromNumber=function(t){return t},k.ruleIdToNumber=function(t){return t};let a=class a{constructor(t,k,v,x){this.$location=t,this.id=k,this._name=v||null,this._nameIsCapturing=C.RegexSource.hasCaptures(this._name),this._contentName=x||null,this._contentNameIsCapturing=C.RegexSource.hasCaptures(this._contentName)}get debugName(){let t=this.$location?`${C.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,k){return this._nameIsCapturing&&null!==this._name&&null!==t&&null!==k?C.RegexSource.replaceCaptures(this._name,t,k):this._name}getContentName(t,k){return this._contentNameIsCapturing&&null!==this._contentName?C.RegexSource.replaceCaptures(this._contentName,t,k):this._contentName}};k.Rule=a;let c=class c extends a{constructor(t,k,v,C,x){super(t,k,v,C),this.retokenizeCapturedWithRuleId=x}dispose(){}collectPatterns(t,k){throw Error("Not supported!")}compile(t,k){throw Error("Not supported!")}compileAG(t,k,v,C){throw Error("Not supported!")}};k.CaptureRule=c;let l=class l extends a{constructor(t,k,v,C,x){super(t,k,v,null),this._match=new f(C,this.id),this.captures=x,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,k){k.push(this._match)}compile(t,k){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,k,v,C){return this._getCachedCompiledPatterns(t).compileAG(t,v,C)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}};k.MatchRule=l;let u=class u extends a{constructor(t,k,v,C,x){super(t,k,v,C),this.patterns=x.patterns,this.hasMissingPatterns=x.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,k){for(let v of this.patterns)t.getRule(v).collectPatterns(t,k)}compile(t,k){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,k,v,C){return this._getCachedCompiledPatterns(t).compileAG(t,v,C)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}};k.IncludeOnlyRule=u;let h=class h extends a{constructor(t,k,v,C,x,A,T,R,N,O){super(t,k,v,C),this._begin=new f(x,this.id),this.beginCaptures=A,this._end=new f(T||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=R,this.applyEndPatternLast=N||!1,this.patterns=O.patterns,this.hasMissingPatterns=O.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,k){return this._end.resolveBackReferences(t,k)}collectPatterns(t,k){k.push(this._begin)}compile(t,k){return this._getCachedCompiledPatterns(t,k).compile(t)}compileAG(t,k,v,C){return this._getCachedCompiledPatterns(t,k).compileAG(t,v,C)}_getCachedCompiledPatterns(t,k){if(!this._cachedCompiledPatterns){for(let k of(this._cachedCompiledPatterns=new m,this.patterns))t.getRule(k).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,k):this._cachedCompiledPatterns.setSource(0,k)),this._cachedCompiledPatterns}};k.BeginEndRule=h;let p=class p extends a{constructor(t,v,C,x,A,T,R,N,O){super(t,v,C,x),this._begin=new f(A,this.id),this.beginCaptures=T,this.whileCaptures=N,this._while=new f(R,k.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=O.patterns,this.hasMissingPatterns=O.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,k){return this._while.resolveBackReferences(t,k)}collectPatterns(t,k){k.push(this._begin)}compile(t,k){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,k,v,C){return this._getCachedCompiledPatterns(t).compileAG(t,v,C)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns)for(let k of(this._cachedCompiledPatterns=new m,this.patterns))t.getRule(k).collectPatterns(t,this._cachedCompiledPatterns);return this._cachedCompiledPatterns}compileWhile(t,k){return this._getCachedCompiledWhilePatterns(t,k).compile(t)}compileWhileAG(t,k,v,C){return this._getCachedCompiledWhilePatterns(t,k).compileAG(t,v,C)}_getCachedCompiledWhilePatterns(t,k){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new m,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,k||"￿"),this._cachedCompiledWhilePatterns}};k.BeginWhileRule=p;let d=class d{static createCaptureRule(t,k,v,C,x){return t.registerRule(t=>new c(k,t,v,C,x))}static getCompiledRuleId(t,k,v){return t.id||k.registerRule(x=>{if(t.id=x,t.match)return new l(t.$vscodeTextmateLocation,t.id,t.name,t.match,d._compileCaptures(t.captures,k,v));if(void 0===t.begin){t.repository&&(v=C.mergeObjects({},v,t.repository));let x=t.patterns;return void 0===x&&t.include&&(x=[{include:t.include}]),new u(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,d._compilePatterns(x,k,v))}return t.while?new p(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,d._compileCaptures(t.beginCaptures||t.captures,k,v),t.while,d._compileCaptures(t.whileCaptures||t.captures,k,v),d._compilePatterns(t.patterns,k,v)):new h(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,d._compileCaptures(t.beginCaptures||t.captures,k,v),t.end,d._compileCaptures(t.endCaptures||t.captures,k,v),t.applyEndPatternLast,d._compilePatterns(t.patterns,k,v))}),t.id}static _compileCaptures(t,k,v){let C=[];if(t){let x=0;for(let k in t){if("$vscodeTextmateLocation"===k)continue;let t=parseInt(k,10);t>x&&(x=t)}for(let t=0;t<=x;t++)C[t]=null;for(let x in t){if("$vscodeTextmateLocation"===x)continue;let A=parseInt(x,10),T=0;t[x].patterns&&(T=d.getCompiledRuleId(t[x],k,v)),C[A]=d.createCaptureRule(k,t[x].$vscodeTextmateLocation,t[x].name,t[x].contentName,T)}}return C}static _compilePatterns(t,k,v){let C=[];if(t)for(let A=0,T=t.length;A<T;A++){let T=t[A],R=-1;if(T.include){let t=x.parseInclude(T.include);switch(t.kind){case 0:case 1:R=d.getCompiledRuleId(v[T.include],k,v);break;case 2:let C=v[t.ruleName];C&&(R=d.getCompiledRuleId(C,k,v));break;case 3:case 4:let A=t.scopeName,N=4===t.kind?t.ruleName:null,O=k.getExternalGrammar(A,v);if(O){if(N){let t=O.repository[N];t&&(R=d.getCompiledRuleId(t,k,O.repository))}else R=d.getCompiledRuleId(O.repository.$self,k,O.repository)}}}else R=d.getCompiledRuleId(T,k,v);if(-1!==R){let t=k.getRule(R),v=!1;if((t instanceof u||t instanceof h||t instanceof p)&&t.hasMissingPatterns&&0===t.patterns.length&&(v=!0),v)continue;C.push(R)}}return{patterns:C,hasMissingPatterns:(t?t.length:0)!==C.length}}};k.RuleFactory=d;let f=class f{constructor(t,k){if(t){let k=t.length,v=0,C=[],x=!1;for(let A=0;A<k;A++)if("\\"===t.charAt(A)&&A+1<k){let k=t.charAt(A+1);"z"===k?(C.push(t.substring(v,A)),C.push("$(?!\\n)(?<!\\n)"),v=A+2):"A"!==k&&"G"!==k||(x=!0),A++}this.hasAnchor=x,0===v?this.source=t:(C.push(t.substring(v,k)),this.source=C.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=k,this.hasBackReferences=A.test(this.source)}clone(){return new f(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,k){let v=k.map(k=>t.substring(k.start,k.end));return T.lastIndex=0,this.source.replace(T,(t,k)=>C.escapeRegExpCharacters(v[parseInt(k,10)]||""))}_buildAnchorCache(){let t,k,v,C,x=[],A=[],T=[],R=[];for(t=0,k=this.source.length;t<k;t++)v=this.source.charAt(t),x[t]=v,A[t]=v,T[t]=v,R[t]=v,"\\"===v&&t+1<k&&("A"===(C=this.source.charAt(t+1))?(x[t+1]="￿",A[t+1]="￿",T[t+1]="A",R[t+1]="A"):"G"===C?(x[t+1]="￿",A[t+1]="G",T[t+1]="￿",R[t+1]="G"):(x[t+1]=C,A[t+1]=C,T[t+1]=C,R[t+1]=C),t++);return{A0_G0:x.join(""),A0_G1:A.join(""),A1_G0:T.join(""),A1_G1:R.join("")}}resolveAnchors(t,k){return this.hasAnchor&&this._anchorCache?t?k?this._anchorCache.A1_G1:this._anchorCache.A1_G0:k?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}};k.RegExpSource=f;let m=class m{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,k){this._items[t].source!==k&&(this._disposeCaches(),this._items[t].setSource(k))}compile(t){if(!this._cached){let k=this._items.map(t=>t.source);this._cached=new g(t,k,this._items.map(t=>t.ruleId))}return this._cached}compileAG(t,k,v){return this._hasAnchors?k?v?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,k,v)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,k,v)),this._anchorCache.A1_G0):v?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,k,v)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,k,v)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,k,v){let C=this._items.map(t=>t.resolveAnchors(k,v));return new g(t,C,this._items.map(t=>t.ruleId))}};k.RegExpSourceList=m;let g=class g{constructor(t,k,v){this.regExps=k,this.rules=v,this.scanner=t.createOnigScanner(k)}dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){let t=[];for(let k=0,v=this.rules.length;k<v;k++)t.push("   - "+this.rules[k]+": "+this.regExps[k]);return t.join("\n")}findNextMatchSync(t,k,v){let C=this.scanner.findNextMatchSync(t,k,v);return C?{ruleId:this.rules[C.index],captureIndices:C.captureIndices}:null}};k.CompiledRule=g},583:(t,k,v)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.ThemeTrieElement=k.ThemeTrieElementRule=k.ColorMap=k.fontStyleToString=k.ParsedThemeRule=k.parseTheme=k.StyleAttributes=k.ScopeStack=k.Theme=void 0;let C=v(878);let r=class r{constructor(t,k,v){this._colorMap=t,this._defaults=k,this._root=v,this._cachedMatchRoot=new C.CachedFn(t=>this._root.match(t))}static createFromRawTheme(t,k){return this.createFromParsedTheme(c(t),k)}static createFromParsedTheme(t,k){return function(t,k){t.sort((t,k)=>{let v=C.strcmp(t.scope,k.scope);return 0!==v?v:0!==(v=C.strArrCmp(t.parentScopes,k.parentScopes))?v:t.index-k.index});let v=0,x="#000000",A="#ffffff";for(;t.length>=1&&""===t[0].scope;){let k=t.shift();-1!==k.fontStyle&&(v=k.fontStyle),null!==k.foreground&&(x=k.foreground),null!==k.background&&(A=k.background)}let T=new u(k),R=new a(v,T.getId(x),T.getId(A)),N=new p(new h(0,null,-1,0,0),[]);for(let k=0,v=t.length;k<v;k++){let v=t[k];N.insert(0,v.scope,v.parentScopes,v.fontStyle,T.getId(v.foreground),T.getId(v.background))}return new r(T,R,N)}(t,k)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(null===t)return this._defaults;let k=t.scopeName,v=this._cachedMatchRoot.get(k).find(k=>(function(t,k){if(null===k)return!0;let v=0,C=k[0];for(;t;){var x,A;if(x=t.scopeName,(A=C)===x||x.startsWith(A)&&"."===x[A.length]){if(++v===k.length)return!0;C=k[v]}t=t.parent}return!1})(t.parent,k.parentScopes));return v?new a(v.fontStyle,v.foreground,v.background):null}};k.Theme=r;let i=class i{constructor(t,k){this.parent=t,this.scopeName=k}static push(t,k){for(let v of k)t=new i(t,v);return t}static from(...t){let k=null;for(let v=0;v<t.length;v++)k=new i(k,t[v]);return k}push(t){return new i(this,t)}getSegments(){let t=this,k=[];for(;t;)k.push(t.scopeName),t=t.parent;return k.reverse(),k}toString(){return this.getSegments().join(" ")}extends(t){return this===t||null!==this.parent&&this.parent.extends(t)}getExtensionIfDefined(t){let k=[],v=this;for(;v&&v!==t;)k.push(v.scopeName),v=v.parent;return v===t?k.reverse():void 0}};k.ScopeStack=i;let a=class a{constructor(t,k,v){this.fontStyle=t,this.foregroundId=k,this.backgroundId=v}};function c(t){if(!t||!t.settings||!Array.isArray(t.settings))return[];let k=t.settings,v=[],x=0;for(let t=0,A=k.length;t<A;t++){let A,T=k[t];if(!T.settings)continue;if("string"==typeof T.scope){let t=T.scope;A=(t=(t=t.replace(/^[,]+/,"")).replace(/[,]+$/,"")).split(",")}else A=Array.isArray(T.scope)?T.scope:[""];let R=-1;if("string"==typeof T.settings.fontStyle){R=0;let t=T.settings.fontStyle.split(" ");for(let k=0,v=t.length;k<v;k++)switch(t[k]){case"italic":R|=1;break;case"bold":R|=2;break;case"underline":R|=4;break;case"strikethrough":R|=8}}let N=null;"string"==typeof T.settings.foreground&&C.isValidHexColor(T.settings.foreground)&&(N=T.settings.foreground);let O=null;"string"==typeof T.settings.background&&C.isValidHexColor(T.settings.background)&&(O=T.settings.background);for(let k=0,C=A.length;k<C;k++){let C=A[k].trim().split(" "),T=C[C.length-1],E=null;C.length>1&&(E=C.slice(0,C.length-1)).reverse(),v[x++]=new l(T,E,t,R,N,O)}}return v}k.StyleAttributes=a,k.parseTheme=c;let l=class l{constructor(t,k,v,C,x,A){this.scope=t,this.parentScopes=k,this.index=v,this.fontStyle=C,this.foreground=x,this.background=A}};k.ParsedThemeRule=l,k.fontStyleToString=function(t){if(-1===t)return"not set";let k="";return 1&t&&(k+="italic "),2&t&&(k+="bold "),4&t&&(k+="underline "),8&t&&(k+="strikethrough "),""===k&&(k="none"),k.trim()};let u=class u{constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let k=0,v=t.length;k<v;k++)this._color2id[t[k]]=k,this._id2color[k]=t[k]}else this._isFrozen=!1}getId(t){if(null===t)return 0;t=t.toUpperCase();let k=this._color2id[t];if(k)return k;if(this._isFrozen)throw Error(`Missing color in color map - ${t}`);return k=++this._lastColorId,this._color2id[t]=k,this._id2color[k]=t,k}getColorMap(){return this._id2color.slice(0)}};k.ColorMap=u;let h=class h{constructor(t,k,v,C,x){this.scopeDepth=t,this.parentScopes=k,this.fontStyle=v,this.foreground=C,this.background=x}clone(){return new h(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let k=[];for(let v=0,C=t.length;v<C;v++)k[v]=t[v].clone();return k}acceptOverwrite(t,k,v,C){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,-1!==k&&(this.fontStyle=k),0!==v&&(this.foreground=v),0!==C&&(this.background=C)}};k.ThemeTrieElementRule=h;let p=class p{constructor(t,k=[],v={}){this._mainRule=t,this._children=v,this._rulesWithParentScopes=k}static _sortBySpecificity(t){return 1===t.length||t.sort(this._cmpBySpecificity),t}static _cmpBySpecificity(t,k){if(t.scopeDepth===k.scopeDepth){let v=t.parentScopes,C=k.parentScopes,x=null===v?0:v.length,A=null===C?0:C.length;if(x===A)for(let t=0;t<x;t++){let k=v[t].length,x=C[t].length;if(k!==x)return x-k}return A-x}return k.scopeDepth-t.scopeDepth}match(t){if(""===t)return p._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let k,v,C=t.indexOf(".");return -1===C?(k=t,v=""):(k=t.substring(0,C),v=t.substring(C+1)),this._children.hasOwnProperty(k)?this._children[k].match(v):p._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(t,k,v,C,x,A){if(""===k)return void this._doInsertHere(t,v,C,x,A);let T,R,N,O=k.indexOf(".");-1===O?(T=k,R=""):(T=k.substring(0,O),R=k.substring(O+1)),this._children.hasOwnProperty(T)?N=this._children[T]:(N=new p(this._mainRule.clone(),h.cloneArr(this._rulesWithParentScopes)),this._children[T]=N),N.insert(t+1,R,v,C,x,A)}_doInsertHere(t,k,v,x,A){if(null!==k){for(let T=0,R=this._rulesWithParentScopes.length;T<R;T++){let R=this._rulesWithParentScopes[T];if(0===C.strArrCmp(R.parentScopes,k))return void R.acceptOverwrite(t,v,x,A)}-1===v&&(v=this._mainRule.fontStyle),0===x&&(x=this._mainRule.foreground),0===A&&(A=this._mainRule.background),this._rulesWithParentScopes.push(new h(t,k,v,x,A))}else this._mainRule.acceptOverwrite(t,v,x,A)}};k.ThemeTrieElement=p},878:(t,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.performanceNow=k.CachedFn=k.escapeRegExpCharacters=k.isValidHexColor=k.strArrCmp=k.strcmp=k.RegexSource=k.basename=k.mergeObjects=k.clone=void 0,k.clone=function(t){return function n(t){return Array.isArray(t)?function(t){let k=[];for(let v=0,C=t.length;v<C;v++)k[v]=n(t[v]);return k}(t):"object"==typeof t?function(t){let k={};for(let v in t)k[v]=n(t[v]);return k}(t):t}(t)},k.mergeObjects=function(t,...k){return k.forEach(k=>{for(let v in k)t[v]=k[v]}),t},k.basename=function e(t){let k=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===k?t:~k==t.length-1?e(t.substring(0,t.length-1)):t.substr(1+~k)};let v=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function r(t,k){return t<k?-1:t>k?1:0}k.RegexSource=class{static hasCaptures(t){return null!==t&&(v.lastIndex=0,v.test(t))}static replaceCaptures(t,k,C){return t.replace(v,(t,v,x,A)=>{let T=C[parseInt(v||x,10)];if(!T)return t;{let t=k.substring(T.start,T.end);for(;"."===t[0];)t=t.substring(1);switch(A){case"downcase":return t.toLowerCase();case"upcase":return t.toUpperCase();default:return t}}})}},k.strcmp=r,k.strArrCmp=function(t,k){if(null===t&&null===k)return 0;if(!t)return -1;if(!k)return 1;let v=t.length,C=k.length;if(v===C){for(let C=0;C<v;C++){let v=r(t[C],k[C]);if(0!==v)return v}return 0}return v-C},k.isValidHexColor=function(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))},k.escapeRegExpCharacters=function(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},k.CachedFn=class{constructor(t){this.fn=t,this.cache=new Map}get(t){if(this.cache.has(t))return this.cache.get(t);let k=this.fn(t);return this.cache.set(t,k),k}},k.performanceNow="undefined"==typeof performance?function(){return Date.now()}:function(){return performance.now()}}},A={},function n(t){var k=A[t];if(void 0!==k)return k.exports;var v=A[t]={exports:{}};return x[t].call(v.exports,v,v.exports,n),v.exports}(787));var F=D.exports;let B={light:"#333333",dark:"#bbbbbb"},$={light:"#fffffe",dark:"#1e1e1e"};var j=Object.defineProperty,__defNormalProp$1=(t,k,v)=>k in t?j(t,k,{enumerable:!0,configurable:!0,writable:!0,value:v}):t[k]=v,__publicField$1=(t,k,v)=>(__defNormalProp$1(t,"symbol"!=typeof k?k+"":k,v),v);let Registry=class Registry extends F.Registry{constructor(t,k,v){super(t),this._resolver=t,this._themes=k,this._langs=v,__publicField$1(this,"themesPath","themes/"),__publicField$1(this,"_resolvedThemes",{}),__publicField$1(this,"_resolvedGrammars",{}),__publicField$1(this,"_langMap",{}),__publicField$1(this,"_langGraph",new Map),__publicField$1(this,"alias",{}),k.forEach(t=>this.loadTheme(t)),v.forEach(t=>this.loadLanguage(t))}getTheme(t){return"string"==typeof t?this._resolvedThemes[t]:this.loadTheme(t)}loadTheme(t){let k=function(t){let k=t.type||"dark",v={name:t.name,type:k,...t,...function(t){let k,v;let C=t.settings?t.settings:t.tokenColors,x=C?C.find(t=>!t.name&&!t.scope):void 0;return x?.settings?.foreground&&(k=x.settings.foreground),x?.settings?.background&&(v=x.settings.background),!k&&t?.colors?.["editor.foreground"]&&(k=t.colors["editor.foreground"]),!v&&t?.colors?.["editor.background"]&&(v=t.colors["editor.background"]),k||(k="light"===t.type?B.light:B.dark),v||(v="light"===t.type?$.light:$.dark),{fg:k,bg:v}}(t)};return t.include&&(v.include=t.include),t.tokenColors&&(v.settings=t.tokenColors,delete v.tokenColors),v.settings||(v.settings=[]),v.settings[0]&&v.settings[0].settings&&!v.settings[0].scope||v.settings.unshift({settings:{foreground:v.fg,background:v.bg}}),v}(t);return k.name&&(this._resolvedThemes[k.name]=k),k}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(t){if(this.alias[t]){let k=new Set([t]);for(;this.alias[t];){if(t=this.alias[t],k.has(t))throw Error(`[shikiji] Circular alias \`${Array.from(k).join(" -> ")} -> ${t}\``);k.add(t)}}return this._resolvedGrammars[t]}async loadLanguage(t){if(this.getGrammar(t.name))return;this._resolver.addLanguage(t);let k=t.embeddedLangs?.reduce(async(t,k,v)=>{if(!this.getLoadedLanguages().includes(k)&&this._resolver.getLangRegistration(k))return await this._resolver.loadGrammar(this._resolver.getLangRegistration(k).scopeName),t[this._resolver.getLangRegistration(k).scopeName]=v+2,t},{}),v={embeddedLanguages:k,balancedBracketSelectors:t.balancedBracketSelectors||["*"],unbalancedBracketSelectors:t.unbalancedBracketSelectors||[]},C=await this.loadGrammarWithConfiguration(t.scopeName,1,v);this._resolvedGrammars[t.name]=C,t.aliases&&t.aliases.forEach(k=>{this.alias[k]=t.name})}async init(){this._themes.map(t=>this.loadTheme(t)),await this.loadLanguages(this._langs)}async loadLanguages(t){for(let k of t)this.resolveEmbeddedLanguages(k);let k=Array.from(this._langGraph.entries()),v=k.filter(([t,k])=>!k);if(v.length){let t=k.filter(([t,k])=>k&&k.embeddedLangs?.some(t=>v.map(([t])=>t).includes(t))).filter(t=>!v.includes(t));throw Error(`[shikiji] Missing languages ${v.map(([t])=>`\`${t}\``).join(", ")}, required by ${t.map(([t])=>`\`${t}\``).join(", ")}`)}for(let[t,v]of k)this._resolver.addLanguage(v);for(let[t,v]of k)await this.loadLanguage(v)}getLoadedLanguages(){return Object.keys({...this._resolvedGrammars,...this.alias})}resolveEmbeddedLanguages(t){if(this._langMap[t.name]=t,this._langGraph.set(t.name,t),t.embeddedLangs)for(let k of t.embeddedLangs)this._langGraph.set(k,this._langMap[k])}};var U=Object.defineProperty,__defNormalProp=(t,k,v)=>k in t?U(t,k,{enumerable:!0,configurable:!0,writable:!0,value:v}):t[k]=v,__publicField=(t,k,v)=>(__defNormalProp(t,"symbol"!=typeof k?k+"":k,v),v);let Resolver=class Resolver{constructor(t,k,v){__publicField(this,"languageMap",{}),__publicField(this,"scopeToLangMap",{}),__publicField(this,"_onigLibPromise"),__publicField(this,"_onigLibName"),this._onigLibPromise=t,this._onigLibName=k,v.forEach(t=>this.addLanguage(t))}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(t){return this.languageMap[t]}async loadGrammar(t){return this.scopeToLangMap[t]}addLanguage(t){this.languageMap[t.name]=t,t.aliases&&t.aliases.forEach(k=>{this.languageMap[k]=t}),this.scopeToLangMap[t.scopeName]=t}};async function getShikiContext(t={}){async function normalizeGetter(t){return Promise.resolve("function"==typeof t?t():t).then(t=>t.default||t)}async function resolveLangs(t){return Array.from(new Set((await Promise.all(t.map(async t=>await normalizeGetter(t).then(t=>Array.isArray(t)?t:[t])))).flat()))}let[k,v]=await Promise.all([Promise.all((t.themes||[]).map(normalizeGetter)),resolveLangs(t.langs||[]),"function"==typeof t.loadWasm?Promise.resolve(t.loadWasm()).then(t=>loadWasm(t)):t.loadWasm?loadWasm(t.loadWasm):void 0]),C=new Resolver(Promise.resolve({createOnigScanner:t=>new OnigScanner(t),createOnigString:t=>new E(t)}),"vscode-oniguruma",v),x=new Registry(C,k,v);function getTheme(t){let k=x.getTheme(t);if(!k)throw Error(`[shikiji] Theme \`${t}\` not found, you may need to load it first`);return k}return Object.assign(x.alias,t.langAlias),await x.init(),{setTheme:function(t){let k=getTheme(t);x.setTheme(k);let v=x.getColorMap();return{theme:k,colorMap:v}},getTheme,getLangGrammar:function(t){let k=x.getGrammar(t);if(!k)throw Error(`[shikiji] Language \`${t}\` not found, you may need to load it first`);return k},getLoadedThemes:function(){return x.getLoadedThemes()},getLoadedLanguages:function(){return x.getLoadedLanguages()},getAlias:function(){return x.alias},updateAlias:function(t){Object.assign(x.alias,t)},loadLanguage:async function(...t){await x.loadLanguages(await resolveLangs(t))},loadTheme:async function(...t){await Promise.all(t.map(async t=>x.loadTheme(await normalizeGetter(t))))}}}let W=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];let Schema=class Schema{constructor(t,k,v){this.property=t,this.normal=k,v&&(this.space=v)}};function merge(t,k){let v={},C={},x=-1;for(;++x<t.length;)Object.assign(v,t[x].property),Object.assign(C,t[x].normal);return new Schema(v,C,k)}function normalize(t){return t.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;let Info=class Info{constructor(t,k){this.property=t,this.attribute=k}};Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let H=0,q=increment(),z=increment(),V=increment(),K=increment(),Y=increment(),X=increment(),Q=increment();function increment(){return 2**++H}var J=Object.freeze({__proto__:null,boolean:q,booleanish:z,commaOrSpaceSeparated:Q,commaSeparated:X,number:K,overloadedBoolean:V,spaceSeparated:Y});let Z=Object.keys(J);let DefinedInfo=class DefinedInfo extends Info{constructor(t,k,v,C){var x,A;let T=-1;if(super(t,k),C&&(this.space=C),"number"==typeof v)for(;++T<Z.length;){let t=Z[T];x=Z[T],(A=(v&J[t])===J[t])&&(this[x]=A)}}};DefinedInfo.prototype.defined=!0;let ee={}.hasOwnProperty;function create(t){let k;let v={},C={};for(k in t.properties)if(ee.call(t.properties,k)){let x=t.properties[k],A=new DefinedInfo(k,t.transform(t.attributes||{},k),x,t.space);t.mustUseProperty&&t.mustUseProperty.includes(k)&&(A.mustUseProperty=!0),v[k]=A,C[normalize(k)]=k,C[normalize(A.attribute)]=k}return new Schema(v,C,t.space)}let et=create({space:"xlink",transform:(t,k)=>"xlink:"+k.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),en=create({space:"xml",transform:(t,k)=>"xml:"+k.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(t,k){return k in t?t[k]:k}function caseInsensitiveTransform(t,k){return caseSensitiveTransform(t,k.toLowerCase())}let er=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),el=create({transform:(t,k)=>"role"===k?k:"aria-"+k.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:z,ariaAutoComplete:null,ariaBusy:z,ariaChecked:z,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:Y,ariaCurrent:null,ariaDescribedBy:Y,ariaDetails:null,ariaDisabled:z,ariaDropEffect:Y,ariaErrorMessage:null,ariaExpanded:z,ariaFlowTo:Y,ariaGrabbed:z,ariaHasPopup:null,ariaHidden:z,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Y,ariaLevel:K,ariaLive:null,ariaModal:z,ariaMultiLine:z,ariaMultiSelectable:z,ariaOrientation:null,ariaOwns:Y,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:z,ariaReadOnly:z,ariaRelevant:null,ariaRequired:z,ariaRoleDescription:Y,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:z,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null}}),eo=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:X,acceptCharset:Y,accessKey:Y,action:null,allow:null,allowFullScreen:q,allowPaymentRequest:q,allowUserMedia:q,alt:null,as:null,async:q,autoCapitalize:null,autoComplete:Y,autoFocus:q,autoPlay:q,capture:q,charSet:null,checked:q,cite:null,className:Y,cols:K,colSpan:null,content:null,contentEditable:z,controls:q,controlsList:Y,coords:K|X,crossOrigin:null,data:null,dateTime:null,decoding:null,default:q,defer:q,dir:null,dirName:null,disabled:q,download:V,draggable:z,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:q,formTarget:null,headers:Y,height:K,hidden:q,high:K,href:null,hrefLang:null,htmlFor:Y,httpEquiv:Y,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:q,itemId:null,itemProp:Y,itemRef:Y,itemScope:q,itemType:Y,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:q,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:q,muted:q,name:null,nonce:null,noModule:q,noValidate:q,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:q,optimum:K,pattern:null,ping:Y,placeholder:null,playsInline:q,poster:null,preload:null,readOnly:q,referrerPolicy:null,rel:Y,required:q,reversed:q,rows:K,rowSpan:K,sandbox:Y,scope:null,scoped:q,seamless:q,selected:q,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:z,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:q,useMap:null,value:z,width:K,wrap:null,align:null,aLink:null,archive:Y,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:q,declare:q,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:q,noHref:q,noShade:q,noWrap:q,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:z,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:q,disableRemotePlayback:q,prefix:null,property:null,results:K,security:null,unselectable:null}}),ei=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:Q,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:Y,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:q,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:X,g2:X,glyphName:X,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:Q,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Y,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Q,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Q,rev:Q,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Q,requiredFeatures:Q,requiredFonts:Q,requiredFormats:Q,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:Q,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Q,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Q,to:null,transform:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ea=/^data[-\w.:]+$/i,es=/-[a-z]/g,eu=/[A-Z]/g;function kebab(t){return"-"+t.toLowerCase()}function camelcase(t){return t.charAt(1).toUpperCase()}let ec=merge([en,et,er,el,eo],"html"),eh=merge([en,et,er,el,ei],"svg"),ep={}.hasOwnProperty,ed=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],eg={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},ef=["cent","copy","divide","gt","lt","not","para","times"],em={}.hasOwnProperty,ey={};for(C in eg)em.call(eg,C)&&(ey[eg[C]]=C);function formatSmart(t,k,v){let C,x=function(t,k,v){let C="&#x"+t.toString(16).toUpperCase();return v&&k&&!/[\dA-Fa-f]/.test(String.fromCharCode(k))?C:C+";"}(t,k,v.omitOptionalSemicolons);if((v.useNamedReferences||v.useShortestReferences)&&(C=function(t,k,v,C){let x=String.fromCharCode(t);if(em.call(ey,x)){let t=ey[x],A="&"+t;return v&&ed.includes(t)&&!ef.includes(t)&&(!C||k&&61!==k&&/[^\da-z]/i.test(String.fromCharCode(k)))?A:A+";"}return""}(t,k,v.omitOptionalSemicolons,v.attribute)),(v.useShortestReferences||!C)&&v.useShortestReferences){let C=function(t,k,v){let C="&#"+String(t);return v&&k&&!/\d/.test(String.fromCharCode(k))?C:C+";"}(t,k,v.omitOptionalSemicolons);C.length<x.length&&(x=C)}return C&&(!v.useShortestReferences||C.length<x.length)?C:x}function stringifyEntities(t,k){return function(t,k){if(t=t.replace(k.subset?function(t){let k=[],v=-1;for(;++v<t.length;)k.push(t[v].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return RegExp("(?:"+k.join("|")+")","g")}(k.subset):/["&'<>`]/g,basic),k.subset||k.escapeOnly)return t;return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(t,v,C){return k.format((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536,C.charCodeAt(v+2),k)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,basic);function basic(t,v,C){return k.format(t.charCodeAt(0),C.charCodeAt(v+1),k)}}(t,Object.assign({format:formatSmart},k))}function ccount(t,k){let v=String(t);if("string"!=typeof k)throw TypeError("Expected character");let C=0,x=v.indexOf(k);for(;-1!==x;)C++,x=v.indexOf(k,x+k.length);return C}let e_=/[ \t\n\f\r]/g;function whitespace(t){return"object"==typeof t?"text"===t.type&&empty(t.value):empty(t)}function empty(t){return""===t.replace(e_,"")}let eb=siblings(1),eS=siblings(-1),ek=[];function siblings(t){return function(k,v,C){let x=k?k.children:ek,A=(v||0)+t,T=x[A];if(!C)for(;T&&whitespace(T);)A+=t,T=x[A];return T}}let ev={}.hasOwnProperty;function omission(t){return function(k,v,C){return ev.call(t,k.tagName)&&t[k.tagName](k,v,C)}}let eC=omission({body:function(t,k,v){let C=eb(v,k);return!C||"comment"!==C.type},caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd:function(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&("dt"===C.tagName||"dd"===C.tagName)},dt:function(t,k,v){let C=eb(v,k);return!!(C&&"element"===C.type&&("dt"===C.tagName||"dd"===C.tagName))},head:headOrColgroupOrCaption,html:function(t,k,v){let C=eb(v,k);return!C||"comment"!==C.type},li:function(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&"li"===C.tagName},optgroup:function(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&"optgroup"===C.tagName},option:function(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&("option"===C.tagName||"optgroup"===C.tagName)},p:function(t,k,v){let C=eb(v,k);return C?"element"===C.type&&("address"===C.tagName||"article"===C.tagName||"aside"===C.tagName||"blockquote"===C.tagName||"details"===C.tagName||"div"===C.tagName||"dl"===C.tagName||"fieldset"===C.tagName||"figcaption"===C.tagName||"figure"===C.tagName||"footer"===C.tagName||"form"===C.tagName||"h1"===C.tagName||"h2"===C.tagName||"h3"===C.tagName||"h4"===C.tagName||"h5"===C.tagName||"h6"===C.tagName||"header"===C.tagName||"hgroup"===C.tagName||"hr"===C.tagName||"main"===C.tagName||"menu"===C.tagName||"nav"===C.tagName||"ol"===C.tagName||"p"===C.tagName||"pre"===C.tagName||"section"===C.tagName||"table"===C.tagName||"ul"===C.tagName):!v||!("element"===v.type&&("a"===v.tagName||"audio"===v.tagName||"del"===v.tagName||"ins"===v.tagName||"map"===v.tagName||"noscript"===v.tagName||"video"===v.tagName))},rp:rubyElement,rt:rubyElement,tbody:function(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&("tbody"===C.tagName||"tfoot"===C.tagName)},td:cells,tfoot:function(t,k,v){return!eb(v,k)},th:cells,thead:function(t,k,v){let C=eb(v,k);return!!(C&&"element"===C.type&&("tbody"===C.tagName||"tfoot"===C.tagName))},tr:function(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&"tr"===C.tagName}});function headOrColgroupOrCaption(t,k,v){let C=eb(v,k,!0);return!C||"comment"!==C.type&&!("text"===C.type&&whitespace(C.value.charAt(0)))}function rubyElement(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&("rp"===C.tagName||"rt"===C.tagName)}function cells(t,k,v){let C=eb(v,k);return!C||"element"===C.type&&("td"===C.tagName||"th"===C.tagName)}let ex=omission({body:function(t){let k=eb(t,-1,!0);return!k||"comment"!==k.type&&!("text"===k.type&&whitespace(k.value.charAt(0)))&&!("element"===k.type&&("meta"===k.tagName||"link"===k.tagName||"script"===k.tagName||"style"===k.tagName||"template"===k.tagName))},colgroup:function(t,k,v){let C=eS(v,k),x=eb(t,-1,!0);return!(v&&C&&"element"===C.type&&"colgroup"===C.tagName&&eC(C,v.children.indexOf(C),v))&&!!(x&&"element"===x.type&&"col"===x.tagName)},head:function(t){let k=t.children,v=[],C=-1;for(;++C<k.length;){let t=k[C];if("element"===t.type&&("title"===t.tagName||"base"===t.tagName)){if(v.includes(t.tagName))return!1;v.push(t.tagName)}}return k.length>0},html:function(t){let k=eb(t,-1);return!k||"comment"!==k.type},tbody:function(t,k,v){let C=eS(v,k),x=eb(t,-1);return!(v&&C&&"element"===C.type&&("thead"===C.tagName||"tbody"===C.tagName)&&eC(C,v.children.indexOf(C),v))&&!!(x&&"element"===x.type&&"tr"===x.tagName)}}),ew={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]};function text(t,k,v,C){return v&&"element"===v.type&&("script"===v.tagName||"style"===v.tagName)?t.value:stringifyEntities(t.value,Object.assign({},C.settings.characterReferences,{subset:["<","&"]}))}let eA=function(t,k){let v=k||{};function one(k,...v){let C=one.invalid,x=one.handlers;if(k&&ep.call(k,t)){let v=String(k[t]);C=ep.call(x,v)?x[v]:one.unknown}if(C)return C.call(this,k,...v)}return one.handlers=v.handlers||{},one.invalid=v.invalid,one.unknown=v.unknown,one}("type",{invalid:function(t){throw Error("Expected node, not `"+t+"`")},unknown:function(t){throw Error("Cannot compile unknown node `"+t.type+"`")},handlers:{comment:function(t,k,v,C){return C.settings.bogusComments?"<?"+stringifyEntities(t.value,Object.assign({},C.settings.characterReferences,{subset:[">"]}))+">":"<!--"+t.value.replace(/^>|^->|<!--|-->|--!>|<!-$/g,function(t){return stringifyEntities(t,Object.assign({},C.settings.characterReferences,{subset:["<",">"]}))})+"-->"},doctype:function(t,k,v,C){return"<!"+(C.settings.upperDoctype?"DOCTYPE":"doctype")+(C.settings.tightDoctype?"":" ")+"html>"},element:function(t,k,v,C){let x;let A=C.schema,T="svg"!==A.space&&C.settings.omitOptionalTags,R="svg"===A.space?C.settings.closeEmptyElements:C.settings.voids.includes(t.tagName.toLowerCase()),N=[];"html"===A.space&&"svg"===t.tagName&&(C.schema=eh);let O=function(t,k){let v;let C=[],x=-1;if(k){for(v in k)if(null!==k[v]&&void 0!==k[v]){let x=function(t,k,v){let C;let x=function(t,k){let v=normalize(k),C=k,x=Info;if(v in t.normal)return t.property[t.normal[v]];if(v.length>4&&"data"===v.slice(0,4)&&ea.test(k)){if("-"===k.charAt(4)){let t=k.slice(5).replace(es,camelcase);C="data"+t.charAt(0).toUpperCase()+t.slice(1)}else{let t=k.slice(4);if(!es.test(t)){let v=t.replace(eu,kebab);"-"!==v.charAt(0)&&(v="-"+v),k="data"+v}}x=DefinedInfo}return new x(C,k)}(t.schema,k),A=t.settings.allowParseErrors&&"html"===t.schema.space?0:1,T=t.settings.allowDangerousCharacters?0:1,R=t.quote;if(x.overloadedBoolean&&(v===x.attribute||""===v)?v=!0:(x.boolean||x.overloadedBoolean&&"string"!=typeof v)&&(v=!!v),null==v||!1===v||"number"==typeof v&&Number.isNaN(v))return"";let N=stringifyEntities(x.attribute,Object.assign({},t.settings.characterReferences,{subset:ew.name[A][T]}));return!0===v?N:(v=Array.isArray(v)?(x.commaSeparated?function(t,k){let v=k||{},C=""===t[t.length-1]?[...t,""]:t;return C.join((v.padRight?" ":"")+","+(!1===v.padLeft?"":" ")).trim()}:function(t){return t.join(" ").trim()})(v,{padLeft:!t.settings.tightCommaSeparatedLists}):String(v),t.settings.collapseEmptyAttributes&&!v)?N:(t.settings.preferUnquoted&&(C=stringifyEntities(v,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:ew.unquoted[A][T]}))),C!==v&&(t.settings.quoteSmart&&ccount(v,R)>ccount(v,t.alternative)&&(R=t.alternative),C=R+stringifyEntities(v,Object.assign({},t.settings.characterReferences,{subset:("'"===R?ew.single:ew.double)[A][T],attribute:!0}))+R),N+(C?"="+C:C))}(t,v,k[v]);x&&C.push(x)}}for(;++x<C.length;){let k=t.settings.tightAttributes?C[x].charAt(C[x].length-1):void 0;x!==C.length-1&&'"'!==k&&"'"!==k&&(C[x]+=" ")}return C.join("")}(C,t.properties),E=C.all("html"===A.space&&"template"===t.tagName?t.content:t);return C.schema=A,E&&(R=!1),!O&&T&&ex(t,k,v)||(N.push("<",t.tagName,O?" "+O:""),R&&("svg"===A.space||C.settings.closeSelfClosing)&&(x=O.charAt(O.length-1),(!C.settings.tightSelfClosing||"/"===x||x&&'"'!==x&&"'"!==x)&&N.push(" "),N.push("/")),N.push(">")),N.push(E),R||T&&eC(t,k,v)||N.push("</"+t.tagName+">"),N.join("")},raw:function(t,k,v,C){return C.settings.allowDangerousHtml?t.value:text(t,k,v,C)},root:function(t,k,v,C){return C.all(t)},text}}),eP={},eT={},eR=[];function one(t,k,v){return eA(t,k,v,this)}function all(t){let k=[],v=t&&t.children||eR,C=-1;for(;++C<v.length;)k[C]=this.one(v[C],C,t);return k.join("")}var eN=((T=eN||{})[T.NotSet=-1]="NotSet",T[T.None=0]="None",T[T.Italic=1]="Italic",T[T.Bold=2]="Bold",T[T.Underline=4]="Underline",T);let StackElementMetadata=class StackElementMetadata{static toBinaryStr(t){let k=t.toString(2);for(;k.length<32;)k=`0${k}`;return k}static getLanguageId(t){return(255&t)>>>0}static getTokenType(t){return(768&t)>>>8}static getFontStyle(t){return(14336&t)>>>11}static getForeground(t){return(8372224&t)>>>15}static getBackground(t){return(4286578688&t)>>>24}static containsBalancedBrackets(t){return(1024&t)!=0}static set(t,k,v,C,x,A){let T=StackElementMetadata.getLanguageId(t),R=StackElementMetadata.getTokenType(t),N=StackElementMetadata.getFontStyle(t),O=StackElementMetadata.getForeground(t),E=StackElementMetadata.getBackground(t),I=StackElementMetadata.containsBalancedBrackets(t)?1:0;return 0!==k&&(T=k),0!==v&&(R=8===v?0:v),-1!==C&&(N=C),0!==x&&(O=x),0!==A&&(E=A),(T<<0|R<<8|N<<11|I<<10|O<<15|E<<24)>>>0}};function isPlaintext(t){return!t||["plaintext","txt","text","plain"].includes(t)}function toArray(t){return Array.isArray(t)?t:[t]}var eL=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],eO={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function parseColor(t,k){let v,C=1,x=t[k+C++];if("2"===x){let x=[t[k+C++],t[k+C++],t[k+C]].map(t=>Number.parseInt(t));3!==x.length||x.some(t=>Number.isNaN(t))||(v={type:"rgb",rgb:x})}else if("5"===x){let x=Number.parseInt(t[k+C]);Number.isNaN(x)||(v={type:"table",index:Number(x)})}return[C,v]}var eE={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function codeToThemedTokens(t,k,v={}){let{lang:C="text",theme:x=t.getLoadedThemes()[0],includeExplanation:A=!0}=v;if(isPlaintext(C)){let t=k.split(/\r\n|\r|\n/);return[...t.map(t=>[{content:t}])]}let{theme:T,colorMap:R}=t.setTheme(x);if("ansi"===C)return function(t,k){let v,C,x;let A=k.split(/\r?\n/),T=function(t=eE){let k;function rgbColor(t){return`#${t.map(t=>Math.max(0,Math.min(t,255)).toString(16).padStart(2,"0")).join("")}`}return{value:function(v){switch(v.type){case"named":return t[v.name];case"rgb":return rgbColor(v.rgb);case"table":var C;return C=v.index,function(){if(k)return k;k=[];for(let v=0;v<eL.length;v++)k.push(t[eL[v]]);let v=[0,95,135,175,215,255];for(let t=0;t<6;t++)for(let C=0;C<6;C++)for(let x=0;x<6;x++)k.push(rgbColor([v[t],v[C],v[x]]));let C=8;for(let t=0;t<24;t++,C+=10)k.push(rgbColor([C,C,C]));return k}()[C]}}}}(Object.fromEntries(eL.map(k=>[k,t.colors?.[`terminal.ansi${k[0].toUpperCase()}${k.substring(1)}`]]))),R=(v=null,C=null,x=new Set,{parse(t){let k=[],A=0;do{let T=function(t,k){let v=t.indexOf("\x1b[",k);if(-1!==v){let k=t.indexOf("m",v);return{sequence:t.substring(v+2,k).split(";"),startPosition:v,position:k+1}}return{position:t.length}}(t,A),R=T.sequence?t.substring(A,T.startPosition):t.substring(A);if(R.length>0&&k.push({value:R,foreground:v,background:C,decorations:new Set(x)}),T.sequence){let t=function(t){let k=[];for(let v=0;v<t.length;v++){let C=t[v],x=Number.parseInt(C);if(!Number.isNaN(x)){if(0===x)k.push({type:"resetAll"});else if(x<=9){let t=eO[x];t&&k.push({type:"setDecoration",value:eO[x]})}else if(x<=29){let t=eO[x-20];t&&k.push({type:"resetDecoration",value:t})}else if(x<=37)k.push({type:"setForegroundColor",value:{type:"named",name:eL[x-30]}});else if(38===x){let[C,x]=parseColor(t,v);x&&k.push({type:"setForegroundColor",value:x}),v+=C}else if(39===x)k.push({type:"resetForegroundColor"});else if(x<=47)k.push({type:"setBackgroundColor",value:{type:"named",name:eL[x-40]}});else if(48===x){let[C,x]=parseColor(t,v);x&&k.push({type:"setBackgroundColor",value:x}),v+=C}else 49===x?k.push({type:"resetBackgroundColor"}):x>=90&&x<=97?k.push({type:"setForegroundColor",value:{type:"named",name:eL[x-90+8]}}):x>=100&&x<=107&&k.push({type:"setBackgroundColor",value:{type:"named",name:eL[x-100+8]}})}}return k}(T.sequence);for(let k of t)"resetAll"===k.type?(v=null,C=null,x.clear()):"resetForegroundColor"===k.type?v=null:"resetBackgroundColor"===k.type?C=null:"resetDecoration"===k.type&&x.delete(k.value);for(let k of t)"setForegroundColor"===k.type?v=k.value:"setBackgroundColor"===k.type?C=k.value:"setDecoration"===k.type&&x.add(k.value)}A=T.position}while(A<t.length);return k}});return A.map(k=>R.parse(k).map(k=>{let v;v=k.decorations.has("reverse")?k.background?T.value(k.background):t.bg:k.foreground?T.value(k.foreground):t.fg,k.decorations.has("dim")&&(v=function(t){let k=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(k){if(k[3]){let t=Math.round(Number.parseInt(k[3],16)/2).toString(16).padStart(2,"0");return`#${k[1]}${k[2]}${t}`}return k[2]?`#${k[1]}${k[2]}80`:`#${Array.from(k[1]).map(t=>`${t}${t}`).join("")}80`}let v=t.match(/var\((--shiki-color-ansi-[\w-]+)\)/);return v?`var(${v[1]}-dim)`:t}(v));let C=eN.None;return k.decorations.has("bold")&&(C|=eN.Bold),k.decorations.has("italic")&&(C|=eN.Italic),k.decorations.has("underline")&&(C|=eN.Underline),{content:k.value,color:v,fontStyle:C}}))}(T,k);let N=t.getLangGrammar(C);return function(t,k,v,C,x){let A=t.split(/\r\n|\r|\n/),T=F.INITIAL,R=[],N=[];for(let t=0,O=A.length;t<O;t++){let O,E;let I=A[t];if(""===I){R=[],N.push([]);continue}x.includeExplanation&&(O=k.tokenizeLine(I,T).tokens,E=0);let M=k.tokenizeLine2(I,T),D=M.tokens.length/2;for(let t=0;t<D;t++){let k=M.tokens[2*t],A=t+1<D?M.tokens[2*t+2]:I.length;if(k===A)continue;let T=M.tokens[2*t+1],N=StackElementMetadata.getForeground(T),F=C[N],B=StackElementMetadata.getFontStyle(T),$={content:I.substring(k,A),color:F,fontStyle:B};if(x.includeExplanation){$.explanation=[];let t=0;for(;k+t<A;){let k=O[E],C=I.substring(k.startIndex,k.endIndex);t+=C.length,$.explanation.push({content:C,scopes:function(t,k){let v=[];for(let C=0,x=k.length;C<x;C++){let x=k.slice(0,C),A=k[C];v[C]={scopeName:A,themeMatches:function(t,k,v){let C=[],x=0;for(let A=0,T=t.settings.length;A<T;A++){let T;let R=t.settings[A];if("string"==typeof R.scope)T=R.scope.split(/,/).map(t=>t.trim());else{if(!Array.isArray(R.scope))continue;T=R.scope}for(let t=0,A=T.length;t<A;t++){let N=T[t],O=N.split(/ /),E=O[O.length-1],I=O.slice(0,O.length-1);(function(t,k,v,C){if(!matchesOne(t,v))return!1;let x=k.length-1,A=C.length-1;for(;x>=0&&A>=0;)matchesOne(k[x],C[A])&&(x-=1),A-=1;return -1===x})(E,I,k,v)&&(C[x++]=R,t=A)}}return C}(t,A,x)}}return v}(v,k.scopes)}),E+=1}}R.push($)}N.push(R),R=[],T=M.ruleStack}return N}(k,N,T,R,{includeExplanation:A})}function matchesOne(t,k){let v=`${t}.`;return t===k||k.substring(0,v.length)===v}function codeToTokensWithThemes(t,k,v){let C=Object.entries(v.themes).filter(t=>t[1]),x=function(...t){let k=t.map(()=>[]),v=t.length;for(let C=0;C<t[0].length;C++){let x=t.map(t=>t[C]),A=k.map(()=>[]);k.forEach((t,k)=>t.push(A[k]));let T=x.map(()=>0),R=x.map(t=>t[0]);for(;R.every(t=>t);){let t=Math.min(...R.map(t=>t.content.length));for(let k=0;k<v;k++){let v=R[k];v.content.length===t?(A[k].push(v),T[k]+=1,R[k]=x[k][T[k]]):(A[k].push({...v,content:v.content.slice(0,t)}),R[k]={...v,content:v.content.slice(t)})}}}return k}(...C.map(C=>codeToThemedTokens(t,k,{...v,theme:C[1],includeExplanation:!1})));return C.map(([t,k],v)=>[t,k,x[v]])}function codeToHast(t,k,v){let C,x,A,T,R;if("themes"in v){let{defaultColor:N="light",cssVariablePrefix:O="--shiki-"}=v,E=Object.entries(v.themes).filter(t=>t[1]);if(0===E.length)throw Error("[shikiji] `themes` option must not be empty");let I=codeToTokensWithThemes(t,k,v).sort(t=>t[0]===N?-1:1);if(N&&!I.find(t=>t[0]===N))throw Error(`[shikiji] \`themes\` option must contain the defaultColor key \`${N}\``);let M=I.map(k=>t.getTheme(k[1])),D=I.map(t=>t[2]);A=[];for(let t=0;t<D[0].length;t++){let k=D.map(k=>k[t]),v=[];A.push(v);for(let t=0;t<k[0].length;t++){let C=k.map(k=>k[t]),x=C.map(t=>getTokenStyles(t)),A=new Set(x.flatMap(t=>Object.keys(t))),T=x.reduce((t,k,v)=>{for(let C of A){let x=k[C]||"inherit";if(0===v&&N)t[C]=x;else{let k=O+I[v][0]+("color"===C?"":`-${C}`);t[C]?t[C]+=`;${k}:${x}`:t[C]=`${k}:${x}`}}return t},{});v.push({...C[0],color:"",htmlStyle:N?stringifyTokenStyle(T):Object.values(T).join(";")})}}x=I.map((t,k)=>(0===k&&N?"":`${O+t[0]}:`)+M[k].fg).join(";"),C=I.map((t,k)=>(0===k&&N?"":`${O+t[0]}-bg:`)+M[k].bg).join(";"),T=`shiki-themes ${M.map(t=>t.name).join(" ")}`,R=N?void 0:[x,C].join(";")}else if("theme"in v){A=codeToThemedTokens(t,k,{...v,includeExplanation:!1});let R=t.getTheme(v.theme);C=R.bg,x=R.fg,T=R.name}else throw Error("[shikiji] Invalid options, either `theme` or `themes` must be provided");return function(t,k){let{mergeWhitespaces:v=!0,transformers:C=[]}=k;k.transforms&&(C.push(k.transforms),console.warn("[shikiji] `transforms` option is deprecated, use `transformers` instead")),v&&(t=t.map(t=>{let k=[],v="";return t.forEach((C,x)=>{C.content.match(/^\s+$/)&&t[x+1]?v+=C.content:v?(k.push({...C,content:v+C.content}),v=""):k.push(C)}),k}));let x=[],A={type:"root",children:[]},T={type:"element",tagName:"pre",properties:{class:`shiki ${k.themeName||""}`,style:k.rootStyle||`background-color:${k.bg};color:${k.fg}`,tabindex:"0",...k.meta},children:[]},R={type:"element",tagName:"code",properties:{},children:x},N={get tokens(){return t},get options(){return k},get root(){return A},get pre(){return T},get code(){return R}};for(let k of(t.forEach((t,k)=>{k&&x.push({type:"text",value:"\n"});let v={type:"element",tagName:"span",properties:{class:"line"},children:[]},A=0;for(let x of t){let t={type:"element",tagName:"span",properties:{},children:[{type:"text",value:x.content}]},T=x.htmlStyle||stringifyTokenStyle(getTokenStyles(x));for(let x of(T&&(t.properties.style=T),C))t=x?.token?.call(N,t,k+1,A,v)||t;v.children.push(t),A+=x.content.length}for(let t of C)v=t?.line?.call(N,v,k+1)||v;x.push(v)}),C))R=k?.code?.call(N,R)||R;for(let t of(T.children.push(R),C))T=t?.pre?.call(N,T)||T;A.children.push(T);let O=A;for(let t of C)O=t?.root?.call(N,O)||O;return O}(A,{...v,fg:x,bg:C,themeName:T,rootStyle:R})}function getTokenStyles(t){let k={};return t.color&&(k.color=t.color),t.fontStyle&&(t.fontStyle&eN.Italic&&(k["font-style"]="italic"),t.fontStyle&eN.Bold&&(k["font-weight"]="bold"),t.fontStyle&eN.Underline&&(k["text-decoration"]="underline")),k}function stringifyTokenStyle(t){return Object.entries(t).map(([t,k])=>`${t}:${k}`).join(";")}async function getHighlighterCore(t={}){let k=await getShikiContext(t);return{codeToThemedTokens:(t,v)=>codeToThemedTokens(k,t,v),codeToTokensWithThemes:(t,v)=>codeToTokensWithThemes(k,t,v),codeToHast:(t,v)=>codeToHast(k,t,v),codeToHtml:(t,v)=>(function(t,k,v){let C=k;for(let t of v.transformers||[])C=t.preprocess?.(C,v)||C;let x=function(t,k){let v=eP.quote||'"';if('"'!==v&&"'"!==v)throw Error("Invalid quote `"+v+"`, expected `'` or `\"`");let C={one,all,settings:{omitOptionalTags:eP.omitOptionalTags||!1,allowParseErrors:eP.allowParseErrors||!1,allowDangerousCharacters:eP.allowDangerousCharacters||!1,quoteSmart:eP.quoteSmart||!1,preferUnquoted:eP.preferUnquoted||!1,tightAttributes:eP.tightAttributes||!1,upperDoctype:eP.upperDoctype||!1,tightDoctype:eP.tightDoctype||!1,bogusComments:eP.bogusComments||!1,tightCommaSeparatedLists:eP.tightCommaSeparatedLists||!1,tightSelfClosing:eP.tightSelfClosing||!1,collapseEmptyAttributes:eP.collapseEmptyAttributes||!1,allowDangerousHtml:eP.allowDangerousHtml||!1,voids:eP.voids||W,characterReferences:eP.characterReferences||eT,closeSelfClosing:eP.closeSelfClosing||!1,closeEmptyElements:eP.closeEmptyElements||!1},schema:"svg"===eP.space?eh:ec,quote:v,alternative:'"'===v?"'":'"'};return C.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}(codeToHast(t,C,v));for(let t of v.transformers||[])x=t.postprocess?.(x,v)||x;return x})(k,t,v),loadLanguage:k.loadLanguage,loadTheme:k.loadTheme,getTheme:k.getTheme,getLoadedThemes:k.getLoadedThemes,getLoadedLanguages:k.getLoadedLanguages}}function createdBundledHighlighter(t,k,v){return async function(C={}){function resolveLang(k){if("string"==typeof k){if("ansi"===k||isPlaintext(k))return[];let v=t[k];if(!v)throw Error(`[shikiji] Language \`${k}\` is not built-in.`);return v}return k}function resolveTheme(t){if("string"==typeof t){let v=k[t];if(!v)throw Error(`[shikiji] Theme \`${t}\` is not built-in.`);return v}return t}let x=(C.themes??[]).map(t=>resolveTheme(t)),A=(C.langs??[]).map(t=>resolveLang(t)),T=await getHighlighterCore({...C,themes:x,langs:A,loadWasm:v});return{...T,loadLanguage:(...t)=>T.loadLanguage(...t.map(resolveLang)),loadTheme:(...t)=>T.loadTheme(...t.map(resolveTheme))}}}function createSingletonShorthands(t){let k;async function _getHighlighter(v={}){if(!k)return k=t({themes:toArray(v.theme||[]),langs:toArray(v.lang||[])});{let t=await k;return await Promise.all([t.loadTheme(...toArray(v.theme||[])),t.loadLanguage(...toArray(v.lang||[]))]),t}}return{getSingletonHighlighter:()=>_getHighlighter(),codeToHtml:async function(t,k){let v=await _getHighlighter({lang:k.lang,theme:"theme"in k?[k.theme]:Object.values(k.themes)});return v.codeToHtml(t,k)},codeToHast:async function(t,k){let v=await _getHighlighter({lang:k.lang,theme:"theme"in k?[k.theme]:Object.values(k.themes)});return v.codeToHast(t,k)},codeToThemedTokens:async function(t,k){let v=await _getHighlighter(k);return v.codeToThemedTokens(t,k)},codeToTokensWithThemes:async function(t,k){let v=await _getHighlighter({lang:k.lang,theme:Object.values(k.themes).filter(Boolean)});return v.codeToTokensWithThemes(t,k)}}}}}]);