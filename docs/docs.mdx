import { Kbd } from '@mantine/core';
import { InstallScript } from './components/InstallScript/InstallScript';
import * as demos from './demos';

## Installation

<InstallScript packages="@gfazioli/mantine-split-pane" />

After installation import package styles at the root of your application:

```tsx
import '@gfazioli/mantine-split-pane/styles.css';
```

You can import styles within a layer `@layer mantine-split-pane` by importing `@gfazioli/mantine-split-pane/styles.layer.css` file.

```tsx
import '@gfazioli/mantine-split-pane/styles.layer.css';
```

## Usage

The main component for creating a Split pane is `Split`, which accepts two or more children, `Split.Pane`.
Below a very basic example with the main props:

<Demo data={demos.configurator} />

> By setting properties on the main component `Split`, these will be applied to all child `Split.Pane` components. However, you can also set specific properties for each `Split.Pane` component, as shown below.

## Pane

The `Split.Pane` component is a child component of `Split` and allows setting some props for panel management.

<Demo data={demos.pane} />

## Multiple Panes

You can add as many panes as you want, and you can also set the `minWidth` and `maxWidth` props for each pane along with other props.

<Demo data={demos.multiple} />

> **Note well**
>
> Obviously, you **cannot** set the `minWidth` and `maxWidth` from the `Split` component, as these props are specific to each individual `Split.Pane`. As well as you **cannot** set the `orientation` of the `Split.Pane` component, as this is specific to the `Split` component.

The below code **won't work**:

```tsx
<Split>
  <Split.Pane orientation="vertical">
    <h1>Pane 1</h1>
  </Split.Pane>
  <Split.Pane>
    <h1>Pane 2</h1>
  </Split.Pane>
</Split>
```

The below code **won't work**:

```tsx
<Split maxWidth={300}>
  <Split.Pane>
    <h1>Pane 1</h1>
  </Split.Pane>
  <Split.Pane>
    <h1>Pane 2</h1>
  </Split.Pane>
</Split>
```

## Inline

By default, each `Split` is displayed using `flex`, but in case you want to display the panels inline, you can use the `inline` prop.

<Demo data={demos.inline} />

## Initial and mix/max sizes

As mentioned above, you can set the initial size of the panes using the `initialWidth` and `initialHeight` props.
Obviously, the `initialWidth` will be used for vertical panes, and the `initialHeight` for horizontal panes.

### Min and Max sizes

You can set the minimum and maximum size of the panes using the `minWidth` and `maxWidth` props.
Obviously, the `minWidth` and `maxWidth` will be used for vertical panes, and the `minHeight` and `maxHeight` for horizontal panes.

<Demo data={demos.initials} />

## Reset with Double Click

You can reset the size of the panes by double-clicking on the separator.

<Demo data={demos.reset} />

## Custom Double Click

You can also manage double click to swap two different dimensions in rotation. In the example below, double click changes the dimension by alternating the values of the `initialWidth` property.

<Demo data={demos.doubleclick} />

## Pane grow

The `grow` property is only accessible for `Split.Pane` and enables the panel size to expand and occupy the available space. It is especially handy for establishing a dynamic layout or, as illustrated below, for crafting a layout with two centered panels.

<Demo data={demos.grow} />

## Nested Split

Of course, you can also nest `Split` components to create more complex layouts.

<Demo data={demos.nested} />

## Nested Split with different props

Now you can appreciate the flexibility of the `Split` component, which allows you to create complex layouts with different props for each `Split` component.

<Demo data={demos.nestedprops} />

## Events

The Split.Pane component emits some events that you can use to manage the layout of your application.
You may want to use the `onResizeStart`, `onResize`, and `onResizeEnd` events to manage the layout of your application.

<Demo data={demos.events} />

## Store the layout

You can store the layout of the panes and restore it later using the browser `localStorage` or any other storage system.
Try to change the layout and refresh the page to see the layout restored.

<Demo data={demos.store} />

## Accessibility

You may also use the Keyboard to navigate through the panes. Use the `Tab` key to navigate through the resizer and the <Kbd>Arrow</Kbd> keys to resize the panes. You may use <Kbd>◀︎</Kbd> <Kbd>▶︎</Kbd> for horizontal panes and <Kbd>▼</Kbd> <Kbd>▲</Kbd> for vertical panes.

By default, the `Arrow` keys will resize the panes by `8` pixel, but you can change this value using the `step` prop.
Keeping the <Kbd>SHIFT</Kbd> key pressed while using the `Arrow` keys will resize the panes by `64` pixel, but you can change this value using the `shiftStep` prop.

<Demo data={demos.accessibility} />

> **Note well**
>
> The `step` and `shiftStep` props are accessible both for the `Split` and `Split.Pane` components. Obviously, the `step` and `shiftStep` props of the `Split.Pane` component will override the `step` and `shiftStep` props of the `Split` component.
>
> ```tsx
> ...
> <Split step={16} shiftStep={128}>
>   <Split.Pane step={32} shiftStep={256}>
>     <h1>Pane 1</h1>
>   </Split.Pane>
>   <Split.Pane>
>     <h1>Pane 2</h1>
>   </Split.Pane>
>   <Split.Pane>
>     <h1>Pane 3</h1>
>   </Split.Pane>
> </Split>
> ...
> ```
>
> In the above example, the resizer between the **Pane 1** and **Pane 2** will resize the panes by `32` pixel, and the resizer between the **Pane 2** and **Pane 3** will resize the panes by `16` pixel. The `SHIFT` key will resize the panes by `256` pixel between the **Pane 1** and **Pane 2** and by `128` pixel between the **Pane 2** and **Pane 3**.
